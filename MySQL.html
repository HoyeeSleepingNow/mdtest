<!doctype html>
<html style='font-size:14px !important'>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
thead, tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
svg { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; padding-bottom: 0px !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.reversefootnote { font-family: ui-monospace, sans-serif; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex:2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }
mjx-container { break-inside: avoid; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


/*快速自定义配置*/
:root {
    --monospace: "JetBrains Mono", "Fira Code", "Cascadia Code", Menlo, "Ubuntu Mono", Consolas, HYZhengYuan; /*代码字体*/
    --text-font: var(--monospace); /*正文字体*/
    --title-font: var(--monospace); /*标题字体*/
    --latex-font: var(--monospace); /*LaTeX字体(不含英语)*/
    --text-line-height: 1.6; /*正文行间距*/
    --code-line-height: 1.6; /*代码块行间距*/
    --p-spacing: 0.8rem; /*段间距*/
    --text-size: 12px;
}/*
 * Copyright (C) 2018 Drake, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * GitHub https://github.com/liangjingkanji/DrakeTyporaTheme
 */
@import url();
@include-when-export url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap');

:root {
    --text-color: rgba(255, 255, 255, 0.75);
    --bg-color: rgb(26, 26, 26);
    --control-text-color: var(--text-color);
    --meta-content-color: var(--text-color);
    --active-file-border-color: var(--drake-accent);
    --rawblock-edit-panel-bd: var(--code-block-bg-color);
    --item-hover-bg-color: #323232;
    --active-file-bg-color: var(--item-hover-bg-color);
    --mermaid-theme: night;

    --blur-text-color: rgba(179, 190, 196, 0.5);
    --md-char-color: #535455;
    --side-bar-bg-color: var(--bg-color);
    --search-select-bg-color: #ffffff;
    --search-select-text-color: var(--bg-color);
    --select-text-bg-color: #3473B068;
    --window-border: 1px solid #282828;

    --drake-accent: #42B883;
    --drake-highlight: #AAC8E4;
    --a-color: #42B883;
    --variable-color: var(--drake-highlight);
    --outline-active-color: var(--title-color);
    --code-block-bg-color: #242424;
    --code-block-color: #A6ACCD;
    --title-color: rgba(255, 255, 255, 0.85);
    --blockquote-border-color: transparent;
    --blockquote-color: #EBEBEB99;
    --blockquote-bg-color: #242424;
    --strong-color: var(--title-color);
    --h2-underline-color: var(--title-color);
    --horizontal-divider-color: var(--title-color);
    --height-light-color: var(--drake-accent);
    --height-light-border-color: var(--drake-accent);
    --yaml-color: #676773;
    --yaml-bg-color: var(--code-block-bg-color);
    --footnotes-bg-color: var(--item-hover-bg-color);
    --footnotes-highlight: #FFD760;
    --table-border-color: var(--item-hover-bg-color);
    --table-header-bg-color: #242424;
    --table-bg-color: var(--bg-color);
    --table-n2-bg-color: var(--table-header-bg-color);
    --input-bg-color: var(--item-hover-bg-color);
    --btn-hover-bg-color: var(--item-hover-bg-color);
    --checkbox-checked: url("data:image/svg+xml,%3Csvg class='icon' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cpath d='M425.984 726.016l384-384-59.99-61.995-324.01 324.011-152.021-152.021L213.973 512zm384-598.016q36.01 0 61.013 25.984T896 213.974v596.01q0 34.005-25.003 59.99t-61.013 25.983h-596.01q-36.011 0-61.014-25.984t-25.003-59.989v-596.01q0-34.006 25.003-59.99T213.973 128h596.011z' fill='%2342B883'/%3E%3C/svg%3E");
    --checkbox-unchecked: url("data:image/svg+xml,%3Csvg class='icon' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cpath d='M810.667 213.333v597.334H213.333V213.333h597.334m0-85.333H213.333C166.4 128 128 166.4 128 213.333v597.334C128 857.6 166.4 896 213.333 896h597.334C857.6 896 896 857.6 896 810.667V213.333C896 166.4 857.6 128 810.667 128z' fill='%23acb7c4'/%3E%3C/svg%3E");
}

html {
    font-size: var(--text-size);
}

body {
    font-family: var(--text-font) !important;
    color: var(--text-color);
    -webkit-font-feature-settings: "liga" on, "calt" on;
    -webkit-font-smoothing: subpixel-antialiased;
    text-rendering: optimizeLegibility;
    letter-spacing: 0;
    margin: 0;
    overflow-x: hidden;
}

p {
    line-height: var(--text-line-height);
}

/*code block*/
.md-fences {
    font-size: 1rem;
    padding: 0.5rem !important;
    border-radius: 8px;
    word-wrap: normal;
    background-color: var(--code-block-bg-color);
    color: var(--code-block-color);
    border: none;
    line-height: var(--code-line-height);
}

/*inline latex*/
.MathJax {
    font-size: 120% !important;
}
.MathJax text, .MathJax use {
    font-family: var(--latex-font);
}
/*math-block latex*/
.md-math-block .MathJax {
    font-size: 130% !important;
}

/*mermaid*/
[mermaid-type="journey"] line {
    stroke: #7a7a7a !important;
}
[mermaid-type="journey"] .label {
    color: #333 !important;
}
[id^=mermaidChart] .relationshipLabelBox {
    fill: var(--bg-color) !important;
    opacity: 1 !important;
    background-color: var(--bg-color) !important;
}
[id^=mermaidChart] .legend {
    fill: var(--text-color) !important;
}
[id^=mermaidChart] g.label {
    font-size: 1rem !important;
}
[id^=mermaidChart] line.divider {
    stroke: var(--table-border-color) !important;
}
[id^=mermaidChart] span.nodeLabel {
    color: var(--code-block-color) !important;
    line-height: 1.8rem;
}
tspan {
    color: var(--text-color)
}
[id^=mermaidChart] .entityLabel {
    fill: var(--code-block-color) !important;
}
[id^=mermaidChart] {
    fill: var(--text-color) !important;
}
[id^=mermaidChart] rect.rect {
    fill: rgba(175, 255, 212, 0.3) !important;
}
.md-diagram-panel-preview text.actor > tspan { /*方块文字*/
    fill: var(--code-block-color) !important;
    stroke: none !important;
    font-family: var(--text-font) !important;
    font-size: 1rem !important;
}
.md-diagram-panel-preview .actor, .md-diagram-panel-preview .entityBox { /*方块*/
    stroke: var(--table-border-color) !important;
    fill: var(--code-block-bg-color) !important;
}
.md-diagram-panel-preview .actor-line { /*竖线*/
    stroke: var(--text-color) !important;
    stroke-width: 1px;
}
.md-diagram-panel-preview .messageLine0 { /*横线*/
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: var(--text-color) !important;
}
.md-diagram-panel-preview .messageLine1 { /*虚线*/
    stroke-width: 1.5 !important;
    stroke-dasharray: 2, 2 !important;
    stroke: var(--text-color) !important;
}
.md-diagram-panel-preview .messageText { /*描述文字*/
    fill: var(--text-color) !important;
    font-family: var(--text-font) !important;
    font-size: 1rem !important;
}
.md-diagram-panel-preview .activation0 { /*长方形*/
    fill: #e6e6e6 !important;
    stroke: var(--text-color) !important;
}
.md-diagram-panel-preview .labelText, .md-diagram-panel-preview .labelText > tspan { /*循环标记*/
    fill: var(--code-block-color) !important;
    font-family: var(--text-font) !important;
    font-size: 1rem !important;
    dominant-baseline: unset;
    alignment-baseline: unset;
}
.md-diagram-panel-preview .labelBox { /*循环标记背景*/
    stroke: var(--table-border-color) !important;
    fill: var(--code-block-bg-color) !important;
}
.md-diagram-panel-preview .loopLine { /*循环标记虚线*/
    stroke: var(--text-color) !important;
}
.md-diagram-panel-preview .loopText, .md-diagram-panel-preview .loopText > tspan { /*循环名称*/
    fill: var(--text-color) !important;
    font-size: 1rem !important;
}
.md-diagram-panel-preview .sequenceNumber { /*序号*/
    fill: var(--bg-color) !important;
}
pre.md-fences-advanced.md-focus .md-fences-adv-panel {
    border: none;
}
.md-diagram-panel-preview .edgePath .path { /*箭头*/
    stroke: var(--text-color) !important;
}
.md-diagram-panel-preview .edgeLabel rect { /*条件文字背景*/
    fill: var(--bg-color) !important;
}
.md-diagram-panel-preview .edgeLabel span { /*条件文字*/
    color: var(--text-color);
}
.md-diagram-panel-preview .node rect,
.md-diagram-panel-preview .node circle,
.md-diagram-panel-preview .node ellipse,
.md-diagram-panel-preview .node polygon,
.md-diagram-panel-preview .node path { /*形状*/
    stroke: var(--table-border-color) !important;
    fill: var(--code-block-bg-color) !important;
}
#write .md-diagram-panel .md-diagram-panel-preview div { /*形状内文字*/
    color: var(--code-block-color);
    font-family: var(--text-font) !important;
    font-size: 1rem !important;
}

/*code snippet*/
#write code, tt {
    margin: 0 2px;
    color: var(--drake-highlight);
    background-color: #2F2F2F;
    padding: .15em 0.5em;
    border-radius: 4px;
}

/*variable*/
var {
    color: var(--variable-color);
    font-weight: bold;
}

/*raw block*/
.md-rawblock-control:not(.md-rawblock-tooltip) {
    border-radius: 2px 0 2px 2px;
    padding: 0.2rem !important;
}
.md-rawblock:hover > .md-rawblock-container {
    background: none;
}
.md-rawblock-input {
    font-size: 1rem;
}
.md-rawblock-tooltip-btn:hover {
    background: none;
}
.md-rawblock:hover > .md-rawblock-tooltip {
    border-radius: 2px 2px 0 0;
    margin-bottom: 2px !important;
}
.md-rawblock-tooltip.md-rawblock-control {
    border-radius: 2px 2px 0 0;
    color: var(--code-block-color);
}
.md-rawblock-tooltip-name {
    color: var(--code-block-color);
    opacity: 1;
}

/*quote block*/
blockquote:before {
    display: block;
    position: absolute;
    content: '';
    width: 4px;
    left: 0;
    top: 0;
    height: 100%;
    background-color: var(--blockquote-border-color);
    border-radius: 2px;
}

blockquote {
    color: var(--blockquote-color);
    border-radius: 8px;
    padding: 20px;
    background-color: var(--blockquote-bg-color);
    position: relative;
    border: 1px solid #42b883;
}

#write strong {
    color: var(--strong-color);
    font-weight: bold;
}
#write blockquote strong {
    color: var(--blockquote-color);
}

/*link*/
#write a {
    color: var(--a-color);
    text-decoration: none;
}
[md-inline=link] a {
    margin: 0 .2rem;
}
a:any-link {
    color: var(--a-color);
}

img {
    border-left: none;
    border-right: none;
    vertical-align: baseline;
    border-radius: 2px;
}

#write {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px 30px 100px;
}
#typora-source .CodeMirror-lines {
    max-width: 1200px;
}

#write > ul:first-child,
#write > ol:first-child {
    margin-top: 30px;
}

body > *:first-child {
    margin-top: 0 !important;
}

body > *:last-child {
    margin-bottom: 0 !important;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: var(--title-font);
    position: relative;
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
    color: var(--title-color);
}

h3.md-focus:before, h4.md-focus:before, h5.md-focus:before, h6.md-focus:before {
    visibility: hidden;
}

h1 {
    font-size: 2rem;
    text-align: center;
    margin-top: 0;
}

h2 {
    font-size: 1.8rem;
    margin-bottom: 1.5rem;
}
h2 .md-plain {
    padding-bottom: .3rem;
    border-bottom: .2rem solid var(--h2-underline-color);
    line-height: 3rem;
}
.on-focus-mode h2.md-end-block.md-heading:not(.md-focus):not(.md-focus-container):after {
    background-color: var(--blur-text-color) !important;
}

h3 {
    font-size: 1.4rem;
}

h4 {
    font-size: 1.2rem;
}

h5 {
    font-size: 1rem;
}

h6 {
    font-size: 1rem;
}

h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}

h1 tt,
h1 code {
    font-size: inherit !important;
}

h2 tt,
h2 code {
    font-size: inherit !important;
}

h3 tt,
h3 code {
    font-size: inherit !important;
}

h4 tt,
h4 code {
    font-size: inherit !important;
}

h5 tt,
h5 code {
    font-size: inherit !important;
}

h6 tt,
h6 code {
    font-size: inherit !important;
}

p, blockquote, ul, ol, dl, table {
    margin: var(--p-spacing) 0;
}

li > ol,
li > ul {
    margin: 0 0;
}
li {
    margin: 0.5em 0;
}
ul > li {
    list-style: none;
}
#write ul > li:before {
    content: "";
    position: absolute;
    width: 0.4em;
    height: 0.4em;
    border-radius: 50%;
    background-color: #EBEBEB61;
    transition: background-color .5s;
    left: -1.25rem;
    top: 0.55rem;
}
#write ul > .task-list-item:before {
    content: "";
    position: absolute;
    width: 0;
    height: 0;
    transition: background-color .5s;
    border: none;
    left: 0;
    top: 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: var(--horizontal-divider-color);
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

body > h2:first-child {
    margin-top: 0;
    padding-top: 0;
}

body > h1:first-child {
    margin-top: 0;
    padding-top: 0;
}

body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0;
}

body > h3:first-child,
body > h4:first-child,
body > h5:first-child,
body > h6:first-child {
    margin-top: 0;
    padding-top: 0;
}

a:first-child h1,
a:first-child h2,
a:first-child h3,
a:first-child h4,
a:first-child h5,
a:first-child h6 {
    margin-top: 0;
    padding-top: 0;
}

h1 p,
h2 p,
h3 p,
h4 p,
h5 p,
h6 p {
    margin-top: 0;
}

li p.first {
    display: inline-block;
}

ul, ol {
    padding-inline-start: 2em;
}

ul:first-child,
ol:first-child {
    margin-top: 0;
}

ul:last-child,
ol:last-child {
    margin-bottom: 0;
}

.ty-table-edit {
    margin-top: -1rem !important;
}
#write table {
    margin-top: 1rem;
    word-break: initial;
    background-color: var(--table-bg-color);
}
table tr {
    border-top: .1em solid var(--table-border-color);
    margin: 0;
    padding: 0;
}
table th {
    font-weight: bold;
    border: .1em solid var(--table-border-color);
    border-bottom: 0;
    margin: 0;
    padding: 13px 13px;
}
table td {
    border: .1em solid var(--table-border-color);
    margin: 0;
    padding: 13px 13px;
}
table thead {
    background-color: var(--table-header-bg-color);
}
table tr:nth-child(2n) {
    background-color: var(--table-n2-bg-color);
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

#write em {
    padding: 0 5px 0 2px;
}

#write table thead th {
    background-color: var(--table-header-bg-color);
}

/* height light */
#write mark {
    border: .1em solid var(--height-light-border-color);
    color: var(--height-light-color);
    background-color: transparent;
    padding: .1rem .5rem;
    border-radius: 2rem;
    margin: 0 .2rem;
    font-size: .95rem;
}

/*shortcut*/
kbd {
    border: .1em solid #5b5b5e;
    background: transparent;
    color: var(--text-color);
    margin: 0 .4rem;
    font-family: var(--text-font) !important;
    font-size: .95rem;
    padding: .3em .4em;
    border-radius: .4em;
    box-shadow: .1em .1em .2em rgba(0, 0, 0, 0.3);
}

#write del {
    padding: 1px 2px;
}

.md-task-list-item > input {
    margin-left: -1.3em;
}

@media print {
    html {
        font-size: 12px;
    }

    table,
    pre {
        page-break-inside: avoid;
    }

    pre {
        word-wrap: break-word;
    }
}

/*YAML*/
#write pre.md-meta-block {
    padding: 1rem;
    font-size: 1rem;
    line-height: 1.45;
    background-color: var(--yaml-bg-color);
    border: 0;
    border-radius: 2px;
    color: var(--yaml-color);
    margin-top: 0 !important;
}

.mathjax-block > .code-tooltip {
    bottom: .375rem;
}

#write > h3.md-focus:before {
    left: -1.5625rem;
    top: .375rem;
}

#write > h4.md-focus:before {
    left: -1.5625rem;
    top: .285714286rem;
}

#write > h5.md-focus:before {
    left: -1.5625rem;
    top: .285714286rem;
}

#write > h6.md-focus:before {
    left: -1.5625rem;
    top: .285714286rem;
}

.md-image > .md-meta {
    border-radius: 2px;
    font-family: initial;
    padding: 2px 0 0 4px;
    color: inherit;
}

.md-tag {
    color: inherit;
}

.md-toc {
    margin-top: 20px;
    padding-bottom: 20px;
}

.typora-quick-open-item {
    font-size: 1rem !important;
    height: 50px;
    padding-left: 8px;
    padding-top: 4px;
    padding-bottom: 4px;
}

#typora-quick-open {
    box-shadow: 0 0 8px #00000045;
    padding: 0;
}

.ty-quick-open-category.ty-has-prev .ty-quick-open-category-title {
    border-top: none;
}

#typora-quick-open-input {
    margin: 8px;
    box-shadow: none;
    border-radius: 2px;
}

#typora-quick-open-input input {
    font-size: 1rem;
    box-shadow: none;
    padding-top: 2px;
    padding-left: 10px;
    padding-right: 10px;
    line-height: 32px;
    max-height: 32px;
    border: none;
}

.modal-dialog#typora-quick-open {
    border-radius: 8px;
}

.ty-quick-open-category-title {
    padding-left: 8px;
    color: #BEBEBE;
    font-size: 0.8rem;
    margin-bottom: 4px;
}

.typora-quick-open-item-path {
    font-size: 0.8rem;
    text-overflow: ellipsis;
    white-space: nowrap;
    margin-top: 1px;
}

/*search input*/
.form-control {
    border: none;
    border-radius: 2px;
    box-shadow: none;
}

#md-searchpanel .btn {
    border-radius: 2px;
}

#search-panel-replaceall-btn {
    padding-right: 5px !important;
    text-align: center !important;
}

#search-panel-replace-btn {
    text-align: center !important;
}

#md-searchpanel input {
    background: var(--input-bg-color);
    border-radius: 2px;
}

.searchpanel-search-option-btn {
    border-radius: 2px;
    border: none;
    background: transparent;
    color: var(--text-color);
}

.searchpanel-search-option-btn.active {
    background: var(--text-color);
    color: var(--bg-color);
}

.form-control:focus {
    box-shadow: none;
}

#md-notification:before {
    top: 10px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header,
.context-menu,
.megamenu-content,
footer {
    font-family: initial;
}

/*sidebar*/
.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state {
    visibility: visible;
}
.file-node-content {
    display: flex;
    align-items: center;
}
.file-node-open-state {
    margin-right: .5rem;
}
.file-node-icon {
    margin-right: .5rem;
}

#typora-sidebar {
    font-size: inherit;
    font-family: var(--title-font);
    color: #EBEBEB99;
}

.sidebar-tabs {
    border-bottom: none;
}

.file-list-item-summary, .file-list-item-parent-loc, .file-list-item-time, .file-list-item-summary {
    font-size: 0.9rem !important;
    font-family: var(--text-font);
}

.file-list-item-file-ext-part {
    display: none;
}

.outline-item {
    font-size: 1rem;
}

/*footnotes mark*/
#write .md-footnote {
    background-color: inherit;
    color: var(--drake-highlight);
    font-size: 0.9rem;
    border-radius: 0.9rem;
    padding-left: 0;
}

#write .md-footnote:before {
    content: "[";
}

#write .md-footnote:after {
    content: "]";
}

/*footnotes content*/
.md-hover-tip .code-tooltip-content {
    border-radius: 2px;
}

/*footnotes title*/
span.md-def-name {
    padding-right: 3ch;
    padding-left: 0;
    position: relative;
    font-weight: normal;
}

/*footnotes desc*/
.footnotes {
    font-size: 1rem;
    font-weight: normal;
    color: var(--text-color);
    position: relative;
}

/*footnotes tooltip text*/
.code-tooltip-content .md-plain {
    font-size: 0.9rem;
    font-family: inherit;
}

.code-tooltip-content code {
    padding: 0 2px;
    font-family: inherit;
    color: var(--footnotes-highlight);
    background-color: inherit;
}

.code-tooltip-content a {
    color: var(--footnotes-highlight);
}

div.code-tooltip-content {
    box-shadow: 0 0 8px #00000045;
    background: var(--footnotes-bg-color);
}

.footnotes {
    opacity: 1;
}

.md-def-name:after {
    content: ". ^";
    color: var(--text-color);
}

.md-def-footnote .md-def-name:before {
    content: "";
    color: var(--text-color);
    position: absolute;
}

.md-def-name:before {
    content: "";
    color: var(--text-color);
    position: absolute;
}

.md-content.md-url, .md-def-content.md-def-url.md-auto-disp {
    text-decoration: none;
    border-bottom: .1rem solid var(--text-color);
}

.CodeMirror-scroll::-webkit-scrollbar {
    display: none;
}

.file-list-item-summary {
    font-size: 1em;
}

.pin-outline #outline-content .outline-active strong, .pin-outline .outline-active {
    font-weight: 500;
    color: var(--outline-active-color);
}

.file-list-item.active {
    border-left: 4px solid var(--drake-accent);
}

#md-searchpanel .btn:not(.close-btn):hover {
    box-shadow: none;
    background: var(--btn-hover-bg-color);
}

/*checkbox*/
#write input[type=checkbox] {
    opacity: 0;
    height: 1.6rem;
    width: 1.6rem;
    margin-left: -2em;
    margin-top: 0;
    top: 0;
}

#write .ul-list li.md-task-list-item.task-list-done::before {
    content: "";
    background: var(--checkbox-checked) 0 0 no-repeat;
    background-size: 100%;
    display: inline-block;
    position: absolute;
    height: 1.6rem;
    width: 1.6rem;
    margin-left: -2em;
}
#write .ul-list li.md-task-list-item.task-list-not-done::before {
    content: "";
    background: var(--checkbox-unchecked) 0 0 no-repeat;
    background-size: 100%;
    display: inline-block;
    position: absolute;
    height: 1.6rem;
    width: 1.6rem;
    margin-left: -2em;
}
.task-list-item p {
    line-height: 1.6rem;
}

/*insert table*/
.btn {
    border-radius: 2px;
}

.modal-content {
    border-radius: 8px;
}

.btn-primary:hover, .btn-primary:active {
    background-color: var(--btn-hover-bg-color);
    color: var(--drake-highlight);
}

.btn-primary {
    background-color: transparent;
    color: var(--drake-highlight);
}

.btn-default {
    background-color: transparent;
}

.btn:active {
    box-shadow: none;
    border-color: transparent;
}

.modal-footer {
    border-top: none;
}

#table-insert-col, #table-insert-row {
    background: var(--input-bg-color);
    border-radius: 2px;
}

/*preference panel*/
#megamenu-content {
    background-image: none !important;
    background-color: var(--bg-color);
}
#top-titlebar {
    height: inherit;
    background-color: var(--bg-color);
}
#megamenu-menu-sidebar {
    background-color: var(--bg-color);
    color: var(--text-color);
}
.long-btn {
    width: inherit;
    min-width: 300px;
    border: 1px solid var(--text-color);
    border-radius: 6px;
}
.megamenu-menu-panel h1 {
    margin-bottom: 3rem;
    text-align: left;
}
.megamenu-menu-panel h1, .megamenu-menu-panel h2 {
    font-weight: normal;
}
#recent-file-panel-search-input {
    height: 45px;
    border: none;
    border-bottom: 1px solid var(--text-color);
    padding-left: 8px;
}
#recent-file-panel-search-input::placeholder {
    color: var(--text-color);
    opacity: .5;
}
.megamenu-menu-header {
    border-bottom: none;
}
#recent-file-panel-action-btn {
    background: none;
    border: none;
}
#recent-file-panel-action-btn-container {
    float: none;
    display: inline-block;
}
#top-titlebar .toolbar-icon.btn.hover, #top-titlebar .toolbar-icon.btn:hover {
    background-color: var(--btn-hover-bg-color);
    color: var(--text-color);
}
.megamenu-menu-panel .btn:hover {
    background-color: var(--btn-hover-bg-color) !important;
    color: var(--text-color);
}
#recent-file-panel tbody tr:nth-child(2n-1),
.megamenu-menu-panel table thead,
.megamenu-menu-panel table tr {
    background-color: transparent;
}
.megamenu-menu-panel table {
    font-weight: normal;
}
#megamenu-back-btn {
    color: var(--text-color);
    border: 1px solid var(--text-color);
}
.megamenu-menu-header #megamenu-menu-header-title {
    color: var(--text-color);
}
header, .context-menu, .megamenu-content, footer {
    font-family: var(--text-font);
}
.ty-preferences select {
    padding-left: 2px;
}
.preference-item-hint {
    font-size: 14px;
}
a.ty-link {
    color: var(--a-color);
    margin: 0 .2rem;
}

/*
  Name:       material
  Author:     Mattia Astorino (http://github.com/equinusocio)
  Website:    https://material-theme.site/
*/
.cm-s-inner.CodeMirror {
    background: none;
    color: var(--code-block-color);
}
.cm-s-inner .CodeMirror-gutters {
    border-right: none;
    border-radius: 2px;
    padding-left: 0.5rem;
    background: #212121;
    color: #545454;
}
.cm-s-inner .CodeMirror-guttermarker,
.cm-s-inner .CodeMirror-guttermarker-subtle,
.cm-s-inner .CodeMirror-linenumber {
    color: #545454;
}
.cm-s-inner .CodeMirror-line::selection,
.cm-s-inner .CodeMirror-line > span::selection,
.cm-s-inner .CodeMirror-line > span > span::selection {
    background: rgba(128, 203, 196, 0.2);
}
.cm-s-inner .CodeMirror-line::-moz-selection,
.cm-s-inner .CodeMirror-line > span::-moz-selection,
.cm-s-inner .CodeMirror-line > span > span::-moz-selection {
    background: rgba(128, 203, 196, 0.2);
}
.cm-s-inner .cm-keyword {
    color: #C792EA;
}
.cm-s-inner .cm-operator {
    color: #89DDFF;
}
.cm-s-inner .cm-variable-2 {
    color: var(--code-block-color);
}
.cm-s-inner .cm-variable-3,
.cm-s-inner .cm-type {
    color: #f07178;
}
.cm-s-inner .cm-builtin {
    color: #FFCB6B;
}
.cm-s-inner .cm-atom {
    color: #F78C6C;
}
.cm-s-inner .cm-number {
    color: #F07178;
}
.cm-s-inner .cm-def {
    color: #82AAFF;
}
.cm-s-inner .cm-string {
    color: #C3E88D;
}
.cm-s-inner .cm-string-2 {
    color: #f07178;
}
.cm-s-inner .cm-comment {
    color: #787878;
}
.cm-s-inner .cm-variable {
    color: var(--code-block-color);
}
.cm-s-inner .cm-tag {
    color: #F07178;
}
.cm-s-inner .cm-bracket {
    color: #89DDFF;
}
.cm-s-inner .cm-meta {
    color: #FFCB6B;
}
.cm-s-inner .cm-attribute {
    color: #C792EA;
}
.cm-s-inner .cm-property {
    color: #C792EA;
}
.cm-s-inner .cm-qualifier {
    color: #DECB6B;
}
.cm-s-inner .cm-variable-3,
.cm-s-inner .cm-type {
    color: #DECB6B;
}
.cm-s-inner .cm-error {
    color: rgba(255, 255, 255, 1.0);
    background-color: #F07178;
}
.cm-s-inner .CodeMirror-matchingbracket {
    text-decoration: underline;
    color: white !important;
}
.cm-s-inner .CodeMirror-selected {
    background: #214283 !important;
}
.cm-s-inner .CodeMirror-selectedtext {
    background: #214283 !important;
}
.cm-s-typora-default .CodeMirror-selectedtext {
    background: var(--select-text-bg-color) !important;
}
.cm-overlay.CodeMirror-selectedtext {
    background: var(--select-text-bg-color) !important;
}
.cm-s-inner div.CodeMirror-cursor {
    border-left: 1px solid var(--code-block-color);
}


</style><title>MySQL</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='基础篇'><span>基础篇</span></h1><h2 id='通用语法及分类'><span>通用语法及分类</span></h2><ul><li><span>DDL: 数据定义语言，用来定义数据库对象（数据库、表、字段）</span></li><li><span>DML: 数据操作语言，用来对数据库表中的数据进行增删改</span></li><li><span>DQL: 数据查询语言，用来查询数据库中表的记录</span></li><li><span>DCL: 数据控制语言，用来创建数据库用户、控制数据库的控制权限</span></li></ul><h3 id='ddl数据定义语言）'><span>DDL（数据定义语言）</span></h3><p><span>数据定义语言</span></p><h4 id='数据库操作'><span>数据库操作</span></h4><p><strong><mark><span>不区分大小写</span></mark></strong></p><p><strong><mark><span>以分号结尾</span></mark></strong></p><p><strong><mark><span>字符串用单引号包围</span></mark></strong></p><p><strong><mark><span>注释用</span><code>--</code></mark></strong></p><p><span>查询所有数据库：</span>
<code>SHOW DATABASES;</code>
<span>查询当前数据库：</span>
<code>SELECT DATABASE();</code>
<span>创建数据库：</span>
<code>CREATE DATABASE [ IF NOT EXISTS ] 数据库名 [ DEFAULT CHARSET 字符集] [COLLATE 排序规则 ];</code>
<span>删除数据库：</span>
<code>DROP DATABASE [ IF EXISTS ] 数据库名;</code>
<span>使用数据库：</span>
<code>USE 数据库名;</code></p><p>&nbsp;</p><h5 id='注意事项-1'><span>注意事项</span></h5><ul><li><span>UTF8字符集长度为3字节，有些符号占4字节，所以推荐用utf8mb4字符集</span></li></ul><h4 id='表操作'><span>表操作</span></h4><p><span>查询当前数据库所有表：</span>
<code>SHOW TABLES;</code>
<span>查询表结构：</span>
<code>DESC 表名;</code>
<span>查询指定表的建表语句：</span>
<code>SHOW CREATE TABLE 表名;</code></p><p><span>创建表：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">TABLE</span> 表名<span class="cm-bracket">(</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>字段1 字段1类型 <span class="cm-bracket">[</span><span class="cm-keyword">COMMENT</span> 字段1注释<span class="cm-bracket">]</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>字段2 字段2类型 <span class="cm-bracket">[</span><span class="cm-keyword">COMMENT</span> 字段2注释<span class="cm-bracket">]</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>字段3 字段3类型 <span class="cm-bracket">[</span><span class="cm-keyword">COMMENT</span> 字段3注释<span class="cm-bracket">]</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>字段n 字段n类型 <span class="cm-bracket">[</span><span class="cm-keyword">COMMENT</span> 字段n注释<span class="cm-bracket">]</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)[</span> <span class="cm-keyword">COMMENT</span> 表注释 <span class="cm-bracket">]</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 157px;"></div><div class="CodeMirror-gutters" style="display: none; height: 157px;"></div></div></div></pre><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">table</span> emp<span class="cm-bracket">(</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">id <span class="cm-type">int</span> <span class="cm-keyword">comment</span> <span class="cm-string">'编号'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">workno <span class="cm-type">varchar</span><span class="cm-bracket">(</span><span class="cm-number">10</span><span class="cm-bracket">)</span> <span class="cm-keyword">comment</span> <span class="cm-string">'工号'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">name <span class="cm-type">varchar</span><span class="cm-bracket">(</span><span class="cm-number">10</span><span class="cm-bracket">)</span> <span class="cm-keyword">comment</span> <span class="cm-string">'姓名'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">gender <span class="cm-type">char</span><span class="cm-bracket">(</span><span class="cm-number">1</span><span class="cm-bracket">)</span> <span class="cm-keyword">comment</span> <span class="cm-string">'性别'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">age <span class="cm-type">tinyint</span> <span class="cm-type">unsigned</span> <span class="cm-keyword">comment</span> <span class="cm-string">'年龄'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">idcard <span class="cm-type">char</span><span class="cm-bracket">(</span><span class="cm-number">18</span><span class="cm-bracket">)</span> <span class="cm-keyword">comment</span> <span class="cm-string">'身份证号'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">entrydate <span class="cm-type">date</span> <span class="cm-keyword">comment</span> <span class="cm-string">'入职时间'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span> <span class="cm-keyword">comment</span> <span class="cm-string">'员工表'</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 201px;"></div><div class="CodeMirror-gutters" style="display: none; height: 201px;"></div></div></div></pre><p><mark><strong><span>最后一个字段后面没有逗号</span></strong></mark></p><p><span>添加字段：</span>
<code>ALTER TABLE 表名 ADD 字段名 类型(长度) [COMMENT 注释] [约束];</code>
<span>例：</span><code>ALTER TABLE emp ADD nickname varchar(20) COMMENT &#39;昵称&#39;;</code></p><p><span>修改数据类型：</span>
<code>ALTER TABLE 表名 MODIFY 字段名 新数据类型(长度);</code>
<span>修改字段名和字段类型：</span>
<code>ALTER TABLE 表名 CHANGE 旧字段名 新字段名 类型(长度) [COMMENT 注释] [约束];</code>
<span>例：将emp表的nickname字段修改为username，类型为varchar(30)</span>
<code>ALTER TABLE emp CHANGE nickname username varchar(30) COMMENT &#39;昵称&#39;;</code></p><p><span>删除字段：</span>
<code>ALTER TABLE 表名 DROP 字段名;</code></p><p><span>修改表名：</span>
<code>ALTER TABLE 表名 RENAME TO 新表名</code></p><p><span>删除表：</span>
<code>DROP TABLE [IF EXISTS] 表名;</code>
<span>删除表，并重新创建该表：</span>
<code>TRUNCATE TABLE 表名;</code></p><h3 id='dml数据操作语言）'><span>DML（数据操作语言）</span></h3><h4 id='添加数据'><span>添加数据</span></h4><p><span>指定字段：</span>
<code>INSERT INTO 表名 (字段名1, 字段名2, ...) VALUES (值1, 值2, ...);</code>
<span>全部字段：</span>
<code>INSERT INTO 表名 VALUES (值1, 值2, ...);</code></p><p><span>批量添加数据：</span>
<code>INSERT INTO 表名 (字段名1, 字段名2, ...) VALUES (值1, 值2, ...), (值1, 值2, ...), (值1, 值2, ...);</code>
<code>INSERT INTO 表名 VALUES (值1, 值2, ...), (值1, 值2, ...), (值1, 值2, ...);</code></p><h5 id='注意事项-2'><span>注意事项</span></h5><ul><li><span>字符串和日期类型数据应该包含在引号中</span></li><li><span>插入的数据大小应该在字段的规定范围内</span></li></ul><h4 id='更新和删除数据'><span>更新和删除数据</span></h4><p><span>修改数据：</span>
<code>UPDATE 表名 SET 字段名1 = 值1, 字段名2 = 值2, ... [ WHERE 条件 ];</code>
<span>例：</span>
<code>UPDATE emp SET name = &#39;Jack&#39; WHERE id = 1;</code></p><p><span>无条件则修改所有</span></p><p><span>删除数据：</span>
<code>DELETE FROM 表名 [ WHERE 条件 ];</code></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">delete</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> gender<span class="cm-operator">=</span><span class="cm-string">'女'</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">--</span>删除gender为女的员工</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">delete</span> <span class="cm-keyword">from</span> employee </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">--</span>删除所有员工</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 90px;"></div></div></div></pre><p>&nbsp;</p><h3 id='dql数据查询语言）'><span>DQL（数据查询语言）</span></h3><p><span>查询数据生成</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">drop</span> <span class="cm-keyword">table</span> <span class="cm-keyword">if</span> <span class="cm-keyword">exists</span> employee<span class="cm-punctuation">;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">table</span> emp<span class="cm-bracket">(</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">id <span class="cm-type">int</span> <span class="cm-keyword">comment</span> <span class="cm-string">'编号'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">workno <span class="cm-type">varchar</span><span class="cm-bracket">(</span><span class="cm-number">10</span><span class="cm-bracket">)</span> <span class="cm-keyword">comment</span> <span class="cm-string">'工号'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">name <span class="cm-type">varchar</span><span class="cm-bracket">(</span><span class="cm-number">10</span><span class="cm-bracket">)</span> <span class="cm-keyword">comment</span> <span class="cm-string">'姓名'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">gender <span class="cm-type">char</span><span class="cm-bracket">(</span><span class="cm-number">1</span><span class="cm-bracket">)</span> <span class="cm-keyword">comment</span> <span class="cm-string">'性别'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">age <span class="cm-type">tinyint</span> <span class="cm-type">unsigned</span> <span class="cm-keyword">comment</span> <span class="cm-string">'年龄'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">idcard <span class="cm-type">char</span><span class="cm-bracket">(</span><span class="cm-number">18</span><span class="cm-bracket">)</span> <span class="cm-keyword">comment</span> <span class="cm-string">'身份证号'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">workaddress <span class="cm-type">varchar</span><span class="cm-bracket">(</span><span class="cm-number">50</span><span class="cm-bracket">)</span> <span class="cm-keyword">comment</span> <span class="cm-string">'工作地址'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">entrydate <span class="cm-type">date</span> <span class="cm-keyword">comment</span> <span class="cm-string">'入职时间'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span><span class="cm-keyword">comment</span> <span class="cm-string">'员工表'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">1</span><span class="cm-punctuation">,</span> <span class="cm-string">'00001'</span><span class="cm-punctuation">,</span> <span class="cm-string">'柳岩666'</span><span class="cm-punctuation">,</span> <span class="cm-string">'女'</span><span class="cm-punctuation">,</span> <span class="cm-number">20</span><span class="cm-punctuation">,</span> <span class="cm-string">'123456789012345678'</span><span class="cm-punctuation">,</span> <span class="cm-string">'北京'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2000-01-</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">2</span><span class="cm-punctuation">,</span> <span class="cm-string">'00002'</span><span class="cm-punctuation">,</span> <span class="cm-string">'张无忌'</span><span class="cm-punctuation">,</span> <span class="cm-string">'男'</span><span class="cm-punctuation">,</span> <span class="cm-number">18</span><span class="cm-punctuation">,</span> <span class="cm-string">'123456789012345670'</span><span class="cm-punctuation">,</span> <span class="cm-string">'北京'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2005-09-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">3</span><span class="cm-punctuation">,</span> <span class="cm-string">'00003'</span><span class="cm-punctuation">,</span> <span class="cm-string">'韦一笑'</span><span class="cm-punctuation">,</span> <span class="cm-string">'男'</span><span class="cm-punctuation">,</span> <span class="cm-number">38</span><span class="cm-punctuation">,</span> <span class="cm-string">'123456789712345670'</span><span class="cm-punctuation">,</span> <span class="cm-string">'上海'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2005-08-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">4</span><span class="cm-punctuation">,</span> <span class="cm-string">'00004'</span><span class="cm-punctuation">,</span> <span class="cm-string">'赵敏'</span><span class="cm-punctuation">,</span> <span class="cm-string">'女'</span><span class="cm-punctuation">,</span> <span class="cm-number">18</span><span class="cm-punctuation">,</span> <span class="cm-string">'123456757123845670'</span><span class="cm-punctuation">,</span> <span class="cm-string">'北京'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2009-12-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">5</span><span class="cm-punctuation">,</span> <span class="cm-string">'00005'</span><span class="cm-punctuation">,</span> <span class="cm-string">'小昭'</span><span class="cm-punctuation">,</span> <span class="cm-string">'女'</span><span class="cm-punctuation">,</span> <span class="cm-number">16</span><span class="cm-punctuation">,</span> <span class="cm-string">'123456769012345678'</span><span class="cm-punctuation">,</span> <span class="cm-string">'上海'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2007-07-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">6</span><span class="cm-punctuation">,</span> <span class="cm-string">'00006'</span><span class="cm-punctuation">,</span> <span class="cm-string">'杨逍'</span><span class="cm-punctuation">,</span> <span class="cm-string">'男'</span><span class="cm-punctuation">,</span> <span class="cm-number">28</span><span class="cm-punctuation">,</span> <span class="cm-string">'12345678931234567X'</span><span class="cm-punctuation">,</span> <span class="cm-string">'北京'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2006-01-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">7</span><span class="cm-punctuation">,</span> <span class="cm-string">'00007'</span><span class="cm-punctuation">,</span> <span class="cm-string">'范瑶'</span><span class="cm-punctuation">,</span> <span class="cm-string">'男'</span><span class="cm-punctuation">,</span> <span class="cm-number">40</span><span class="cm-punctuation">,</span> <span class="cm-string">'123456789212345670'</span><span class="cm-punctuation">,</span> <span class="cm-string">'北京'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2005-05-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">8</span><span class="cm-punctuation">,</span> <span class="cm-string">'00008'</span><span class="cm-punctuation">,</span> <span class="cm-string">'黛绮丝'</span><span class="cm-punctuation">,</span> <span class="cm-string">'女'</span><span class="cm-punctuation">,</span> <span class="cm-number">38</span><span class="cm-punctuation">,</span> <span class="cm-string">'123456157123645670'</span><span class="cm-punctuation">,</span> <span class="cm-string">'天津'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2015-05-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">9</span><span class="cm-punctuation">,</span> <span class="cm-string">'00009'</span><span class="cm-punctuation">,</span> <span class="cm-string">'范凉凉'</span><span class="cm-punctuation">,</span> <span class="cm-string">'女'</span><span class="cm-punctuation">,</span> <span class="cm-number">45</span><span class="cm-punctuation">,</span> <span class="cm-string">'123156789012345678'</span><span class="cm-punctuation">,</span> <span class="cm-string">'北京'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2010-04-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">10</span><span class="cm-punctuation">,</span> <span class="cm-string">'00010'</span><span class="cm-punctuation">,</span> <span class="cm-string">'陈友谅'</span><span class="cm-punctuation">,</span> <span class="cm-string">'男'</span><span class="cm-punctuation">,</span> <span class="cm-number">53</span><span class="cm-punctuation">,</span> <span class="cm-string">'123456789012345670'</span><span class="cm-punctuation">,</span> <span class="cm-string">'上海'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2011-01-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">11</span><span class="cm-punctuation">,</span> <span class="cm-string">'00011'</span><span class="cm-punctuation">,</span> <span class="cm-string">'张士诚'</span><span class="cm-punctuation">,</span> <span class="cm-string">'男'</span><span class="cm-punctuation">,</span> <span class="cm-number">55</span><span class="cm-punctuation">,</span> <span class="cm-string">'123567897123465670'</span><span class="cm-punctuation">,</span> <span class="cm-string">'江苏'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2015-05-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">12</span><span class="cm-punctuation">,</span> <span class="cm-string">'00012'</span><span class="cm-punctuation">,</span> <span class="cm-string">'常遇春'</span><span class="cm-punctuation">,</span> <span class="cm-string">'男'</span><span class="cm-punctuation">,</span> <span class="cm-number">32</span><span class="cm-punctuation">,</span> <span class="cm-string">'123446757152345670'</span><span class="cm-punctuation">,</span> <span class="cm-string">'北京'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2004-02-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">13</span><span class="cm-punctuation">,</span> <span class="cm-string">'00013'</span><span class="cm-punctuation">,</span> <span class="cm-string">'张三丰'</span><span class="cm-punctuation">,</span> <span class="cm-string">'男'</span><span class="cm-punctuation">,</span> <span class="cm-number">88</span><span class="cm-punctuation">,</span> <span class="cm-string">'123656789012345678'</span><span class="cm-punctuation">,</span> <span class="cm-string">'江苏'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2020-11-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">14</span><span class="cm-punctuation">,</span> <span class="cm-string">'00014'</span><span class="cm-punctuation">,</span> <span class="cm-string">'灭绝'</span><span class="cm-punctuation">,</span> <span class="cm-string">'女'</span><span class="cm-punctuation">,</span> <span class="cm-number">65</span><span class="cm-punctuation">,</span> <span class="cm-string">'123456719012345670'</span><span class="cm-punctuation">,</span> <span class="cm-string">'西安'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2019-05-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">15</span><span class="cm-punctuation">,</span> <span class="cm-string">'00015'</span><span class="cm-punctuation">,</span> <span class="cm-string">'胡青牛'</span><span class="cm-punctuation">,</span> <span class="cm-string">'男'</span><span class="cm-punctuation">,</span> <span class="cm-number">70</span><span class="cm-punctuation">,</span> <span class="cm-string">'12345674971234567X'</span><span class="cm-punctuation">,</span> <span class="cm-string">'西安'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2018-04-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> emp <span class="cm-bracket">(</span>id<span class="cm-punctuation">,</span> workno<span class="cm-punctuation">,</span> name<span class="cm-punctuation">,</span> gender<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> idcard<span class="cm-punctuation">,</span> workaddress<span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span> <span class="cm-bracket">(</span><span class="cm-number">16</span><span class="cm-punctuation">,</span> <span class="cm-string">'00016'</span><span class="cm-punctuation">,</span> <span class="cm-string">'周芷若'</span><span class="cm-punctuation">,</span> <span class="cm-string">'女'</span><span class="cm-punctuation">,</span> <span class="cm-number">18</span><span class="cm-punctuation">,</span> <span class="cm-atom">null</span><span class="cm-punctuation">,</span> <span class="cm-string">'北京'</span><span class="cm-punctuation">,</span> <span class="cm-string">'2012-06-01'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1388px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1388px;"></div></div></div></pre><p><span>语法：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>字段列表</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">FROM</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>表名字段</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">WHERE</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>条件列表</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">GROUP</span> <span class="cm-keyword">BY</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>分组字段列表</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">HAVING</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>分组后的条件列表</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>排序字段列表</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">LIMIT</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>分页参数</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 313px;"></div><div class="CodeMirror-gutters" style="display: none; height: 313px;"></div></div></div></pre><h4 id='基础查询'><span>基础查询</span></h4><p><span>查询多个字段：</span>
<code>SELECT 字段1, 字段2, 字段3, ... FROM 表名;</code>
<code>SELECT * FROM 表名;</code></p><h5 id='设置别名'><span>设置别名：</span></h5><p><span>as可以省略</span></p><p><code>SELECT 字段1 [ AS 别名1 ], 字段2 [ AS 别名2 ], 字段3 [ AS 别名3 ], ... FROM 表名;</code>
<code>SELECT 字段1 [ 别名1 ], 字段2 [ 别名2 ], 字段3 [ 别名3 ], ... FROM 表名;</code></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> workaddress <span class="cm-keyword">as</span> <span class="cm-string">'工作地址'</span> <span class="cm-keyword">from</span> emp<span class="cm-punctuation">;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- as可以省略</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> workaddress <span class="cm-string">'工作地址'</span> <span class="cm-keyword">from</span> emp<span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-keyword">distinct</span> workaddress <span class="cm-string">'工作地址'</span> <span class="cm-keyword">from</span> emp<span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 90px;"></div></div></div></pre><p><span>去除重复记录：</span>
<code>SELECT DISTINCT 字段列表 FROM 表名;</code></p><p><span>转义：</span>
<code>SELECT * FROM 表名 WHERE name LIKE &#39;/_张三&#39; ESCAPE &#39;/&#39;</code>
<span>/ 之后的</span><span>_</span><span>不作为通配符</span></p><h4 id='条件查询'><span>条件查询</span></h4><p><span>语法：</span>
<code>SELECT 字段列表 FROM 表名 WHERE 条件列表;</code></p><p><span>条件：</span></p><figure><table><thead><tr><th><span>比较运算符</span></th><th><span>功能</span></th></tr></thead><tbody><tr><td><span>&gt;</span></td><td><span>大于</span></td></tr><tr><td><span>&gt;=</span></td><td><span>大于等于</span></td></tr><tr><td><span>&lt;</span></td><td><span>小于</span></td></tr><tr><td><span>&lt;=</span></td><td><span>小于等于</span></td></tr><tr><td><span>=</span></td><td><span>等于</span></td></tr><tr><td><span>&lt;&gt; 或 !=</span></td><td><span>不等于</span></td></tr><tr><td><span>BETWEEN ... AND ...</span></td><td><span>在某个范围内（含最小、最大值）</span></td></tr><tr><td><span>IN(...)</span></td><td><span>在in之后的列表中的值，多选一</span></td></tr><tr><td><span>LIKE 占位符</span></td><td><span>模糊匹配（</span><span>_</span><span>匹配单个字符，%匹配任意个字符）</span></td></tr><tr><td><span>IS NULL</span></td><td><span>是NULL</span></td></tr></tbody></table></figure><figure><table><thead><tr><th><span>逻辑运算符</span></th><th><span>功能</span></th></tr></thead><tbody><tr><td><span>AND 或 &amp;&amp;</span></td><td><span>并且（多个条件同时成立）</span></td></tr><tr><td><span>OR 或 </span>&#124;&#124;</td><td><span>或者（多个条件任意一个成立）</span></td></tr><tr><td><span>NOT 或 !</span></td><td><span>非，不是</span></td></tr></tbody></table></figure><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 年龄等于30</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-operator">=</span> <span class="cm-number">30</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 年龄小于30</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-operator">&lt;</span> <span class="cm-number">30</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 小于等于</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-operator">&lt;=</span> <span class="cm-number">30</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 没有身份证</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> idcard <span class="cm-keyword">is</span> <span class="cm-atom">null</span> <span class="cm-keyword">or</span> idcard <span class="cm-operator">=</span> <span class="cm-string">''</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 有身份证</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> idcard<span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> idcard <span class="cm-keyword">is</span> <span class="cm-keyword">not</span> <span class="cm-atom">null</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 不等于</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-operator">!=</span> <span class="cm-number">30</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 年龄在20到30之间</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-keyword">between</span> <span class="cm-number">20</span> <span class="cm-keyword">and</span> <span class="cm-number">30</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-operator">&gt;=</span> <span class="cm-number">20</span> <span class="cm-keyword">and</span> age <span class="cm-operator">&lt;=</span> <span class="cm-number">30</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 下面语句不报错，但查不到任何信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-keyword">between</span> <span class="cm-number">30</span> <span class="cm-keyword">and</span> <span class="cm-number">20</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 性别为女且年龄小于30</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-operator">&lt;</span> <span class="cm-number">30</span> <span class="cm-keyword">and</span> gender <span class="cm-operator">=</span> <span class="cm-string">'女'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 年龄等于25或30或35</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-operator">=</span> <span class="cm-number">25</span> <span class="cm-keyword">or</span> age <span class="cm-operator">=</span> <span class="cm-number">30</span> <span class="cm-keyword">or</span> age <span class="cm-operator">=</span> <span class="cm-number">35</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-keyword">in</span> <span class="cm-bracket">(</span><span class="cm-number">25</span><span class="cm-punctuation">,</span> <span class="cm-number">30</span><span class="cm-punctuation">,</span> <span class="cm-number">35</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 姓名为两个字</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> name <span class="cm-keyword">like</span> <span class="cm-string">'__'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 身份证最后为X</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> idcard <span class="cm-keyword">like</span> <span class="cm-string">'%X'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> idcard <span class="cm-keyword">like</span> <span class="cm-string">'__________________X'</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 627px;"></div><div class="CodeMirror-gutters" style="display: none; height: 627px;"></div></div></div></pre><h4 id='聚合查询聚合函数）'><span>聚合查询（聚合函数）</span></h4><p><span>常见聚合函数：</span></p><figure><table><thead><tr><th><span>函数</span></th><th><span>功能</span></th></tr></thead><tbody><tr><td><span>count</span></td><td><span>统计数量</span></td></tr><tr><td><span>max</span></td><td><span>最大值</span></td></tr><tr><td><span>min</span></td><td><span>最小值</span></td></tr><tr><td><span>avg</span></td><td><span>平均值</span></td></tr><tr><td><span>sum</span></td><td><span>求和</span></td></tr></tbody></table></figure><p><span>null值不参与统计</span></p><p><span>语法：</span>
<code>SELECT 聚合函数(字段列表) FROM 表名;</code>
<span>例：</span>
<code>SELECT count(id) from employee where workaddress = &#39;北京&#39;;</code></p><h4 id='分组查询'><span>分组查询</span></h4><p><span>语法：</span>
<code>SELECT 字段列表 FROM 表名 [ WHERE 条件 ] GROUP BY 分组字段名 [ HAVING 分组后的过滤条件 ];</code></p><p><span>where 和 having 的区别：</span></p><ul><li><span>执行时机不同：where是分组之前进行过滤，不满足where条件不参与分组；having是分组后对结果进行过滤。</span></li><li><span>判断条件不同：where不能对聚合函数进行判断，而having可以。</span></li></ul><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 根据性别分组，统计男性和女性数量（只显示分组数量，不显示哪个是男哪个是女）</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-keyword">count</span><span class="cm-bracket">(</span><span class="cm-operator">*</span><span class="cm-bracket">)</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">group</span> <span class="cm-keyword">by</span> gender<span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 根据性别分组，统计男性和女性数量</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> gender<span class="cm-punctuation">,</span> <span class="cm-keyword">count</span><span class="cm-bracket">(</span><span class="cm-operator">*</span><span class="cm-bracket">)</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">group</span> <span class="cm-keyword">by</span> gender<span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 根据性别分组，统计男性和女性的平均年龄</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> gender<span class="cm-punctuation">,</span> <span class="cm-keyword">avg</span><span class="cm-bracket">(</span>age<span class="cm-bracket">)</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">group</span> <span class="cm-keyword">by</span> gender<span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 年龄小于45，并根据工作地址分组</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> workaddress<span class="cm-punctuation">,</span> <span class="cm-keyword">count</span><span class="cm-bracket">(</span><span class="cm-operator">*</span><span class="cm-bracket">)</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-operator">&lt;</span> <span class="cm-number">45</span> <span class="cm-keyword">group</span> <span class="cm-keyword">by</span> workaddress<span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 年龄小于45，并根据工作地址分组，获取员工数量大于等于3的工作地址</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> workaddress<span class="cm-punctuation">,</span> <span class="cm-keyword">count</span><span class="cm-bracket">(</span><span class="cm-operator">*</span><span class="cm-bracket">)</span> address_count <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> age <span class="cm-operator">&lt;</span> <span class="cm-number">45</span> <span class="cm-keyword">group</span> <span class="cm-keyword">by</span> workaddress <span class="cm-keyword">having</span> address_count <span class="cm-operator">&gt;=</span> <span class="cm-number">3</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 246px;"></div><div class="CodeMirror-gutters" style="display: none; height: 246px;"></div></div></div></pre><h5 id='注意事项-3'><span>注意事项</span></h5><ul><li><span>执行顺序：where &gt; 聚合函数 &gt; having</span></li><li><span>分组之后，查询的字段一般为聚合函数和分组字段，查询其他字段无任何意义</span></li></ul><h4 id='排序查询'><span>排序查询</span></h4><p><span>语法：</span>
<code>SELECT 字段列表 FROM 表名 ORDER BY 字段1 排序方式1, 字段2 排序方式2;</code></p><p><span>排序方式：</span></p><ul><li><span>ASC: 升序（默认）</span></li><li><span>DESC: 降序</span></li></ul><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 根据年龄升序排序</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> <span class="cm-operator">*</span> <span class="cm-keyword">FROM</span> employee <span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span> age <span class="cm-keyword">ASC</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> <span class="cm-operator">*</span> <span class="cm-keyword">FROM</span> employee <span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span> age <span class="cm-keyword">desc</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 两字段排序，根据年龄升序排序，入职时间降序排序</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> <span class="cm-operator">*</span> <span class="cm-keyword">FROM</span> employee <span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span> age <span class="cm-keyword">ASC</span><span class="cm-punctuation">,</span> entrydate <span class="cm-keyword">DESC</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 112px;"></div><div class="CodeMirror-gutters" style="display: none; height: 112px;"></div></div></div></pre><h5 id='注意事项-4'><span>注意事项</span></h5><p><span>如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序</span></p><h4 id='分页查询'><span>分页查询</span></h4><p><span>语法：</span>
<code>SELECT 字段列表 FROM 表名 LIMIT 起始索引, 查询记录数;</code></p><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询第一页数据，展示10条</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> <span class="cm-operator">*</span> <span class="cm-keyword">FROM</span> employee <span class="cm-keyword">LIMIT</span> <span class="cm-number">0</span><span class="cm-punctuation">,</span> <span class="cm-number">10</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询第二页</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> <span class="cm-operator">*</span> <span class="cm-keyword">FROM</span> employee <span class="cm-keyword">LIMIT</span> <span class="cm-number">10</span><span class="cm-punctuation">,</span> <span class="cm-number">10</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 90px;"></div></div></div></pre><h5 id='注意事项-5'><span>注意事项</span></h5><ul><li><span>起始索引从0开始，起始索引 = （查询页码 - 1） * 每页显示记录数</span></li><li><span>分页查询是数据库的方言，</span><strong><span>不同数据库有不同实现</span></strong><span>，MySQL是LIMIT</span></li><li><span>如果查询的是第一页数据，起始索引可以省略，直接简写 LIMIT 10</span></li></ul><h4 id='dql练习案例'><span>DQL练习案例</span></h4><p><span>1). 查询年龄为20,21,22,23岁的员工信息。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> emp <span class="cm-keyword">where</span> gender <span class="cm-operator">=</span> <span class="cm-string">'女'</span> <span class="cm-keyword">and</span> age <span class="cm-keyword">in</span><span class="cm-bracket">(</span><span class="cm-number">20</span><span class="cm-punctuation">,</span><span class="cm-number">21</span><span class="cm-punctuation">,</span><span class="cm-number">22</span><span class="cm-punctuation">,</span><span class="cm-number">23</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>2). 查询性别为 男 ，并且年龄在 20-40 岁(含)以内的姓名为三个字的员工。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.11499px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> emp <span class="cm-keyword">where</span> gender <span class="cm-operator">=</span> <span class="cm-string">'男'</span> <span class="cm-keyword">and</span> <span class="cm-bracket">(</span> age <span class="cm-keyword">between</span> <span class="cm-number">20</span> <span class="cm-keyword">and</span> <span class="cm-number">40</span> <span class="cm-bracket">)</span> <span class="cm-keyword">and</span> name <span class="cm-keyword">like</span><span class="cm-string">'___'</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 45px;"></div></div></div></pre><p><span>3). 统计员工表中, 年龄小于60岁的 , 男性员工和女性员工的人数。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> gender<span class="cm-punctuation">,</span> <span class="cm-keyword">count</span><span class="cm-bracket">(</span><span class="cm-operator">*</span><span class="cm-bracket">)</span> <span class="cm-keyword">from</span> emp <span class="cm-keyword">where</span> age <span class="cm-operator">&lt;</span> <span class="cm-number">60</span> <span class="cm-keyword">group</span> <span class="cm-keyword">by</span> gender<span class="cm-punctuation">;</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>4). 查询所有年龄小于等于35岁员工的姓名和年龄，并对查询结果按年龄升序排序，如果年龄相同按</span></p><p><span>入职时间降序排序。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> name <span class="cm-punctuation">,</span> age <span class="cm-keyword">from</span> emp <span class="cm-keyword">where</span> age <span class="cm-operator">&lt;=</span> <span class="cm-number">35</span> <span class="cm-keyword">order</span> <span class="cm-keyword">by</span> age <span class="cm-keyword">asc</span> <span class="cm-punctuation">,</span> entrydate <span class="cm-keyword">desc</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>5). 查询性别为男，且年龄在20-40 岁(含)以内的前5个员工信息，对查询的结果按年龄升序排序，</span></p><p><span>年龄相同按入职时间升序排序。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.11499px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> emp <span class="cm-keyword">where</span> gender <span class="cm-operator">=</span> <span class="cm-string">'男'</span> <span class="cm-keyword">and</span> age <span class="cm-keyword">between</span> <span class="cm-number">20</span> <span class="cm-keyword">and</span> <span class="cm-number">40</span> <span class="cm-keyword">order</span> <span class="cm-keyword">by</span> age <span class="cm-keyword">asc</span> <span class="cm-punctuation">,</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">entrydate <span class="cm-keyword">asc</span> <span class="cm-keyword">limit</span> <span class="cm-number">5</span> <span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 67px;"></div></div></div></pre><p>&nbsp;</p><h4 id='dql编写顺序'><span>DQL编写顺序</span></h4><p><img src="MySQL.assets/image-20221026221832644.png" referrerpolicy="no-referrer" alt="image-20221026221832644"></p><h4 id='dql执行顺序'><span>DQL执行顺序</span></h4><p><span>FROM -&gt; WHERE -&gt; GROUP BY -&gt; SELECT -&gt; ORDER BY -&gt; LIMIT</span></p><h3 id='dcl'><span>DCL</span></h3><h4 id='管理用户'><span>管理用户</span></h4><p><span>查询用户：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">USE</span> mysql<span class="cm-punctuation">;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> <span class="cm-operator">*</span> <span class="cm-keyword">FROM</span> <span class="cm-keyword">user</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 45px;"></div></div></div></pre><p><span>创建用户:</span>
<code>CREATE USER &#39;用户名&#39;@&#39;主机名&#39; IDENTIFIED BY &#39;密码&#39;;</code></p><p><span>修改用户密码：</span>
<code>ALTER USER &#39;用户名&#39;@&#39;主机名&#39; IDENTIFIED WITH mysql_native_password BY &#39;新密码&#39;;</code></p><p><span>删除用户：</span>
<code>DROP USER &#39;用户名&#39;@&#39;主机名&#39;;</code></p><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 创建用户test，只能在当前主机localhost访问</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">user</span> <span class="cm-string">'test'</span><span class="cm-variable-2">@'localhost' identified by '123456'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 创建用户test，能在任意主机访问</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">user</span> <span class="cm-string">'test'</span><span class="cm-variable-2">@'%' identified by '123456'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">user</span> <span class="cm-string">'test'</span> identified <span class="cm-keyword">by</span> <span class="cm-string">'123456'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 修改密码</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">alter</span> <span class="cm-keyword">user</span> <span class="cm-string">'test'</span><span class="cm-variable-2">@'localhost' identified with mysql_native_password by '1234'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 删除用户</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">drop</span> <span class="cm-keyword">user</span> <span class="cm-string">'test'</span><span class="cm-variable-2">@'localhost'</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 201px;"></div><div class="CodeMirror-gutters" style="display: none; height: 201px;"></div></div></div></pre><h5 id='注意事项-6'><span>注意事项</span></h5><ul><li><span>主机名可以使用 % 通配</span></li></ul><h4 id='权限控制'><span>权限控制</span></h4><p><span>常用权限：</span></p><figure><table><thead><tr><th><span>权限</span></th><th><span>说明</span></th></tr></thead><tbody><tr><td><span>ALL, ALL PRIVILEGES</span></td><td><span>所有权限</span></td></tr><tr><td><span>SELECT</span></td><td><span>查询数据</span></td></tr><tr><td><span>INSERT</span></td><td><span>插入数据</span></td></tr><tr><td><span>UPDATE</span></td><td><span>修改数据</span></td></tr><tr><td><span>DELETE</span></td><td><span>删除数据</span></td></tr><tr><td><span>ALTER</span></td><td><span>修改表</span></td></tr><tr><td><span>DROP</span></td><td><span>删除数据库/表/视图</span></td></tr><tr><td><span>CREATE</span></td><td><span>创建数据库/表</span></td></tr></tbody></table></figure><p><span>更多权限请看</span><a href='#权限一览表' title='权限一览表'><span>权限一览表</span></a></p><p>&nbsp;</p><p><span>查询权限：</span>
<code>SHOW GRANTS FOR &#39;用户名&#39;@&#39;主机名&#39;;</code></p><p><span>授予权限：</span>
<code>GRANT 权限列表 ON 数据库名.表名 TO &#39;用户名&#39;@&#39;主机名&#39;;</code></p><p><span>撤销权限：</span>
<code>REVOKE 权限列表 ON 数据库名.表名 FROM &#39;用户名&#39;@&#39;主机名&#39;;</code></p><h5 id='注意事项-7'><span>注意事项</span></h5><ul><li><span>多个权限用逗号分隔</span></li><li><span>授权时，数据库名和表名可以用 * 进行通配，代表所有</span></li></ul><h2 id='函数'><span>函数</span></h2><ul><li><span>字符串函数</span></li><li><span>数值函数</span></li><li><span>日期函数</span></li><li><span>流程函数</span></li></ul><h3 id='字符串函数'><span>字符串函数</span></h3><p><span>常用函数：</span></p><figure><table><thead><tr><th><span>函数</span></th><th><span>功能</span></th></tr></thead><tbody><tr><td><span>CONCAT(s1, s2, ..., sn)</span></td><td><span>字符串拼接，将s1, s2, ..., sn拼接成一个字符串</span></td></tr><tr><td><span>LOWER(str)</span></td><td><span>将字符串全部转为小写</span></td></tr><tr><td><span>UPPER(str)</span></td><td><span>将字符串全部转为大写</span></td></tr><tr><td><span>LPAD(str, n, pad)</span></td><td><span>左填充，用字符串pad对str的左边进行填充，达到n个字符串长度</span></td></tr><tr><td><span>RPAD(str, n, pad)</span></td><td><span>右填充，用字符串pad对str的右边进行填充，达到n个字符串长度</span></td></tr><tr><td><span>TRIM(str)</span></td><td><span>去掉字符串头部和尾部的空格</span></td></tr><tr><td><span>SUBSTRING(str, start, len)</span></td><td><span>返回从字符串str从start位置起的len个长度的字符串</span></td></tr><tr><td><span>REPLACE(column, source, replace)</span></td><td><span>替换字符串</span></td></tr></tbody></table></figure><p><span>使用示例：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 拼接</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> CONCAT<span class="cm-bracket">(</span><span class="cm-string">'Hello'</span><span class="cm-punctuation">,</span> <span class="cm-string">'World'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 小写</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> LOWER<span class="cm-bracket">(</span><span class="cm-string">'Hello'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 大写</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> UPPER<span class="cm-bracket">(</span><span class="cm-string">'Hello'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 左填充</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> LPAD<span class="cm-bracket">(</span><span class="cm-string">'01'</span><span class="cm-punctuation">,</span> <span class="cm-number">5</span><span class="cm-punctuation">,</span> <span class="cm-string">'-'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 右填充</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> RPAD<span class="cm-bracket">(</span><span class="cm-string">'01'</span><span class="cm-punctuation">,</span> <span class="cm-number">5</span><span class="cm-punctuation">,</span> <span class="cm-string">'-'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 去除空格</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> TRIM<span class="cm-bracket">(</span><span class="cm-string">' Hello World '</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 切片（起始索引为1）</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> SUBSTRING<span class="cm-bracket">(</span><span class="cm-string">'Hello World'</span><span class="cm-punctuation">,</span> <span class="cm-number">1</span><span class="cm-punctuation">,</span> <span class="cm-number">5</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 313px;"></div><div class="CodeMirror-gutters" style="display: none; height: 313px;"></div></div></div></pre><h3 id='数值函数'><span>数值函数</span></h3><p><span>常见函数：</span></p><figure><table><thead><tr><th><span>函数</span></th><th><span>功能</span></th></tr></thead><tbody><tr><td><span>CEIL(x)</span></td><td><span>向上取整</span></td></tr><tr><td><span>FLOOR(x)</span></td><td><span>向下取整</span></td></tr><tr><td><span>MOD(x, y)</span></td><td><span>返回x/y的模</span></td></tr><tr><td><span>RAND()</span></td><td><span>返回0~1内的随机数</span></td></tr><tr><td><span>ROUND(x, y)</span></td><td><span>求参数x的四舍五入值，保留y位小数</span></td></tr></tbody></table></figure><h3 id='日期函数'><span>日期函数</span></h3><p><span>常用函数：</span></p><figure><table><thead><tr><th><span>函数</span></th><th><span>功能</span></th></tr></thead><tbody><tr><td><span>CURDATE()</span></td><td><span>返回当前日期</span></td></tr><tr><td><span>CURTIME()</span></td><td><span>返回当前时间</span></td></tr><tr><td><span>NOW()</span></td><td><span>返回当前日期和时间</span></td></tr><tr><td><span>YEAR(date)</span></td><td><span>获取指定date的年份</span></td></tr><tr><td><span>MONTH(date)</span></td><td><span>获取指定date的月份</span></td></tr><tr><td><span>DAY(date)</span></td><td><span>获取指定date的日期</span></td></tr><tr><td><span>DATE_ADD(date, INTERVAL expr type)</span></td><td><span>返回一个日期/时间值加上一个时间间隔expr后的时间值</span></td></tr><tr><td><span>DATEDIFF(date1, date2)</span></td><td><span>返回起始时间date1和结束时间date2之间的天数</span></td></tr></tbody></table></figure><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- DATE_ADD</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> DATE_ADD<span class="cm-bracket">(</span>NOW<span class="cm-bracket">()</span><span class="cm-punctuation">,</span> <span class="cm-keyword">INTERVAL</span> <span class="cm-number">70</span> <span class="cm-type">YEAR</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 45px;"></div></div></div></pre><p><span>查询所有员工的入职天数，并根据入职天数倒序排序。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> name<span class="cm-punctuation">,</span> datediff<span class="cm-bracket">(</span>curdate<span class="cm-bracket">()</span><span class="cm-punctuation">,</span> entrydate<span class="cm-bracket">)</span> <span class="cm-keyword">as</span> <span class="cm-string">'entrydays'</span> <span class="cm-keyword">from</span> emp <span class="cm-keyword">order</span> <span class="cm-keyword">by</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">entrydays <span class="cm-keyword">desc</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 45px;"></div></div></div></pre><p>&nbsp;</p><h3 id='流程函数'><span>流程函数</span></h3><p><span>常用函数：</span></p><figure><table><thead><tr><th><span>函数</span></th><th><span>功能</span></th></tr></thead><tbody><tr><td><span>IF(value, t, f)</span></td><td><span>如果value为true，则返回t，否则返回f</span></td></tr><tr><td><span>IFNULL(value1, value2)</span></td><td><span>如果value1不为空，返回value1，否则返回value2</span></td></tr><tr><td><span>CASE WHEN [ val1 ] THEN [ res1 ] ... ELSE [ default ] END</span></td><td><span>如果val1为true，返回res1，... 否则返回default默认值</span></td></tr><tr><td><span>CASE [ expr ] WHEN [ val1 ] THEN [ res1 ] ... ELSE [ default ] END</span></td><td><span>如果expr的值等于val1，返回res1，... 否则返回default默认值</span></td></tr></tbody></table></figure><p><span>例子：、</span></p><p>&nbsp;</p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">--</span>需求<span class="cm-punctuation">:</span> 查询emp表的员工姓名和工作地址 <span class="cm-bracket">(</span>北京/上海 <span class="cm-operator">----&gt;</span> 一线城市 <span class="cm-punctuation">,</span> 其他 <span class="cm-operator">----&gt;</span> 二线城市<span class="cm-bracket">)</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>name<span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-bracket">(</span><span class="cm-keyword">case</span> <span class="cm-keyword">when</span> age <span class="cm-operator">&gt;</span> <span class="cm-number">30</span> <span class="cm-keyword">then</span> <span class="cm-string">'中年'</span> <span class="cm-keyword">else</span> <span class="cm-string">'青年'</span> <span class="cm-keyword">end</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> employee<span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>name<span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-bracket">(</span><span class="cm-keyword">case</span> workaddress <span class="cm-keyword">when</span> <span class="cm-string">'北京市'</span> <span class="cm-keyword">then</span> <span class="cm-string">'一线城市'</span> <span class="cm-keyword">when</span> <span class="cm-string">'上海市'</span> <span class="cm-keyword">then</span> <span class="cm-string">'一线城市'</span> <span class="cm-keyword">else</span> <span class="cm-string">'二线城市'</span> <span class="cm-keyword">end</span><span class="cm-bracket">)</span> <span class="cm-keyword">as</span> <span class="cm-string">'工作地址'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">from</span> employee<span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 224px;"></div><div class="CodeMirror-gutters" style="display: none; height: 224px;"></div></div></div></pre><h2 id='约束'><span>约束</span></h2><p><span>分类：</span></p><figure><table><thead><tr><th><span>约束</span></th><th><span>描述</span></th><th><span>关键字</span></th></tr></thead><tbody><tr><td><span>非空约束</span></td><td><span>限制该字段的数据不能为null</span></td><td><span>NOT NULL</span></td></tr><tr><td><span>唯一约束</span></td><td><span>保证该字段的所有数据都是唯一、不重复的</span></td><td><span>UNIQUE</span></td></tr><tr><td><span>主键约束</span></td><td><span>主键是一行数据的唯一标识，要求非空且唯一</span></td><td><span>PRIMARY KEY</span></td></tr><tr><td><span>默认约束</span></td><td><span>保存数据时，如果未指定该字段的值，则采用默认值</span></td><td><span>DEFAULT</span></td></tr><tr><td><span>检查约束（8.0.1版本后）</span></td><td><span>保证字段值满足某一个条件</span></td><td><span>CHECK</span></td></tr><tr><td><span>外键约束</span></td><td><span>用来让两张图的数据之间建立连接，保证数据的一致性和完整性</span></td><td><span>FOREIGN KEY</span></td></tr></tbody></table></figure><p><span>约束是作用于表中字段上的，可以再创建表/修改表的时候添加约束。</span></p><h3 id='常用约束'><span>常用约束</span></h3><figure><table><thead><tr><th><span>约束条件</span></th><th><span>关键字</span></th></tr></thead><tbody><tr><td><span>主键</span></td><td><span>PRIMARY KEY</span></td></tr><tr><td><span>自动增长</span></td><td><span>AUTO_INCREMENT</span></td></tr><tr><td><span>不为空</span></td><td><span>NOT NULL</span></td></tr><tr><td><span>唯一</span></td><td><span>UNIQUE</span></td></tr><tr><td><span>逻辑条件</span></td><td><span>CHECK</span></td></tr><tr><td><span>默认值</span></td><td><span>DEFAULT</span></td></tr></tbody></table></figure><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">table</span> <span class="cm-keyword">user</span><span class="cm-bracket">(</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>id <span class="cm-type">int</span> <span class="cm-keyword">primary</span> <span class="cm-keyword">key</span> <span class="cm-keyword">auto_increment</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>name <span class="cm-type">varchar</span><span class="cm-bracket">(</span><span class="cm-number">10</span><span class="cm-bracket">)</span> <span class="cm-keyword">not</span> <span class="cm-atom">null</span> <span class="cm-keyword">unique</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>age <span class="cm-type">int</span> <span class="cm-keyword">check</span><span class="cm-bracket">(</span>age <span class="cm-operator">&gt;</span> <span class="cm-number">0</span> <span class="cm-keyword">and</span> age <span class="cm-operator">&lt;</span> <span class="cm-number">120</span><span class="cm-bracket">)</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">status</span> <span class="cm-type">char</span><span class="cm-bracket">(</span><span class="cm-number">1</span><span class="cm-bracket">)</span> <span class="cm-keyword">default</span> <span class="cm-string">'1'</span><span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>gender <span class="cm-type">char</span><span class="cm-bracket">(</span><span class="cm-number">1</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 157px;"></div><div class="CodeMirror-gutters" style="display: none; height: 157px;"></div></div></div></pre><h3 id='外键约束'><span>外键约束</span></h3><p><span>添加外键：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">TABLE</span> 表名<span class="cm-bracket">(</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>字段名 字段类型<span class="cm-punctuation">,</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-bracket">[</span><span class="cm-keyword">CONSTRAINT</span><span class="cm-bracket">]</span> <span class="cm-bracket">[</span>外键名称<span class="cm-bracket">]</span> <span class="cm-keyword">FOREIGN</span> <span class="cm-keyword">KEY</span><span class="cm-bracket">(</span>外键字段名<span class="cm-bracket">)</span> <span class="cm-keyword">REFERENCES</span> 主表<span class="cm-bracket">(</span>主表列名<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">ALTER</span> <span class="cm-keyword">TABLE</span> 表名 <span class="cm-keyword">ADD</span> <span class="cm-keyword">CONSTRAINT</span> 外键名称 <span class="cm-keyword">FOREIGN</span> <span class="cm-keyword">KEY</span> <span class="cm-bracket">(</span>外键字段名<span class="cm-bracket">)</span> <span class="cm-keyword">REFERENCES</span> 主表<span class="cm-bracket">(</span>主表列名<span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 例子</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">alter</span> <span class="cm-keyword">table</span> emp <span class="cm-keyword">add</span> <span class="cm-keyword">constraint</span> fk_emp_dept_id <span class="cm-keyword">foreign</span> <span class="cm-keyword">key</span><span class="cm-bracket">(</span>dept_id<span class="cm-bracket">)</span> <span class="cm-keyword">references</span> dept<span class="cm-bracket">(</span>id<span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 246px;"></div><div class="CodeMirror-gutters" style="display: none; height: 246px;"></div></div></div></pre><p><span>删除外键：</span>
<code>ALTER TABLE 表名 DROP FOREIGN KEY 外键名;</code></p><h4 id='删除更新行为'><span>删除/更新行为</span></h4><figure><table><thead><tr><th><span>行为</span></th><th><span>说明</span></th></tr></thead><tbody><tr><td><span>NO ACTION</span></td><td><span>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新（与RESTRICT一致）</span></td></tr><tr><td><span>RESTRICT</span></td><td><span>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新（与NO ACTION一致）</span></td></tr><tr><td><span>CASCADE</span></td><td><span>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则也删除/更新外键在子表中的记录</span></td></tr><tr><td><span>SET NULL</span></td><td><span>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则设置子表中该外键值为null（要求该外键允许为null）</span></td></tr><tr><td><span>SET DEFAULT</span></td><td><span>父表有变更时，子表将外键设为一个默认值（Innodb不支持）</span></td></tr></tbody></table></figure><p><span>更改删除/更新行为：</span>
<code>ALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段) REFERENCES 主表名(主表字段名) ON UPDATE 行为 ON DELETE 行为;</code></p><h2 id='多表查询'><span>多表查询</span></h2><h3 id='多表关系'><span>多表关系</span></h3><ul><li><span>一对多（多对一）</span></li><li><span>多对多</span></li><li><span>一对一</span></li></ul><h4 id='一对多'><span>一对多</span></h4><p><span>案例：部门与员工</span>
<span>关系：一个部门对应多个员工，一个员工对应一个部门</span>
<span>实现：在多的一方建立外键，指向一的一方的主键</span></p><h4 id='多对多'><span>多对多</span></h4><p><span>案例：学生与课程</span>
<span>关系：一个学生可以选多门课程，一门课程也可以供多个学生选修</span>
<span>实现：建立第三张中间表，中间表至少包含两个外键，分别关联两方主键</span></p><h4 id='一对一'><span>一对一</span></h4><p><span>案例：用户与用户详情</span>
<span>关系：一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另一张表中，以提升操作效率</span>
<span>实现：在任意一方加入外键，关联另外一方的主键，并且设置外键为唯一的（UNIQUE）</span></p><h3 id='查询'><span>查询</span></h3><p><span>合并查询（笛卡尔积，会展示所有组合结果）：</span>
<code>select * from employee, dept;</code></p><blockquote><p><span>笛卡尔积：两个集合A集合和B集合的所有组合情况（在多表查询时，需要消除无效的笛卡尔积）</span></p></blockquote><p><span>消除无效笛卡尔积：</span>
<code>select * from employee, dept where employee.dept = dept.id;</code></p><h3 id='内连接查询'><span>内连接查询</span></h3><p><span>内连接查询的是两张表交集的部分</span></p><p><span>隐式内连接：</span>
<code>SELECT 字段列表 FROM 表1, 表2 WHERE 条件 ...;</code></p><p><span>显式内连接：</span>
<code>SELECT 字段列表 FROM 表1 [ INNER ] JOIN 表2 ON 连接条件 ...;</code></p><p><span>显式性能比隐式高</span></p><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询员工姓名，及关联的部门的名称</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 隐式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> e<span class="cm-variable-2">.name</span><span class="cm-punctuation">,</span> d<span class="cm-variable-2">.name</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">as</span> e<span class="cm-punctuation">,</span> dept <span class="cm-keyword">as</span> d <span class="cm-keyword">where</span> e<span class="cm-variable-2">.dept</span> <span class="cm-operator">=</span> d<span class="cm-variable-2">.id</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 显式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> e<span class="cm-variable-2">.name</span><span class="cm-punctuation">,</span> d<span class="cm-variable-2">.name</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">as</span> e <span class="cm-keyword">inner</span> <span class="cm-keyword">join</span> dept <span class="cm-keyword">as</span> d <span class="cm-keyword">on</span> e<span class="cm-variable-2">.dept</span> <span class="cm-operator">=</span> d<span class="cm-variable-2">.id</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 112px;"></div><div class="CodeMirror-gutters" style="display: none; height: 112px;"></div></div></div></pre><h3 id='外连接查询'><span>外连接查询</span></h3><p><span>左外连接：</span>
<span>查询左表所有数据，以及两张表交集部分数据</span>
<code>SELECT 字段列表 FROM 表1 LEFT [ OUTER ] JOIN 表2 ON 条件 ...;</code>
<span>相当于查询表1的所有数据，包含表1和表2交集部分数据</span></p><p><span>右外连接：</span>
<span>查询右表所有数据，以及两张表交集部分数据</span>
<code>SELECT 字段列表 FROM 表1 RIGHT [ OUTER ] JOIN 表2 ON 条件 ...;</code></p><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 左</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> e.<span class="cm-operator">*</span><span class="cm-punctuation">,</span> d<span class="cm-variable-2">.name</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">as</span> e <span class="cm-keyword">left</span> <span class="cm-keyword">outer</span> <span class="cm-keyword">join</span> dept <span class="cm-keyword">as</span> d <span class="cm-keyword">on</span> e<span class="cm-variable-2">.dept</span> <span class="cm-operator">=</span> d<span class="cm-variable-2">.id</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> d<span class="cm-variable-2">.name</span><span class="cm-punctuation">,</span> e.<span class="cm-operator">*</span> <span class="cm-keyword">from</span> dept d <span class="cm-keyword">left</span> <span class="cm-keyword">outer</span> <span class="cm-keyword">join</span> emp e <span class="cm-keyword">on</span> e<span class="cm-variable-2">.dept</span> <span class="cm-operator">=</span> d<span class="cm-variable-2">.id</span><span class="cm-punctuation">;</span> &nbsp;<span class="cm-comment">-- 这条语句与下面的语句效果一样</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 右</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> d<span class="cm-variable-2">.name</span><span class="cm-punctuation">,</span> e.<span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">as</span> e <span class="cm-keyword">right</span> <span class="cm-keyword">outer</span> <span class="cm-keyword">join</span> dept <span class="cm-keyword">as</span> d <span class="cm-keyword">on</span> e<span class="cm-variable-2">.dept</span> <span class="cm-operator">=</span> d<span class="cm-variable-2">.id</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 179px;"></div><div class="CodeMirror-gutters" style="display: none; height: 179px;"></div></div></div></pre><p><span>左连接可以查询到没有dept的employee，右连接可以查询到没有employee的dept</span></p><h3 id='自连接查询'><span>自连接查询</span></h3><p><span>当前表与自身的连接查询，自连接必须使用表别名</span></p><p><span>语法：</span>
<code>SELECT 字段列表 FROM 表A 别名A JOIN 表A 别名B ON 条件 ...;</code></p><p><span>自连接查询，可以是内连接查询，也可以是外连接查询</span></p><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询员工及其所属领导的名字</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> a<span class="cm-variable-2">.name</span><span class="cm-punctuation">,</span> b<span class="cm-variable-2">.name</span> <span class="cm-keyword">from</span> employee a<span class="cm-punctuation">,</span> employee b <span class="cm-keyword">where</span> a<span class="cm-variable-2">.manager</span> <span class="cm-operator">=</span> b<span class="cm-variable-2">.id</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 没有领导的也查询出来</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> a<span class="cm-variable-2">.name</span><span class="cm-punctuation">,</span> b<span class="cm-variable-2">.name</span> <span class="cm-keyword">from</span> employee a <span class="cm-keyword">left</span> <span class="cm-keyword">join</span> employee b <span class="cm-keyword">on</span> a<span class="cm-variable-2">.manager</span> <span class="cm-operator">=</span> b<span class="cm-variable-2">.id</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 90px;"></div></div></div></pre><h3 id='联合查询-union-union-all'><span>联合查询 union, union all</span></h3><p><span>把多次查询的结果合并，形成一个新的查询集</span></p><p><span>语法：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> 字段列表 <span class="cm-keyword">FROM</span> 表A ...</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">UNION</span> <span class="cm-bracket">[</span><span class="cm-keyword">ALL</span><span class="cm-bracket">]</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> 字段列表 <span class="cm-keyword">FROM</span> 表B ...</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 67px;"></div></div></div></pre><h4 id='注意事项-8'><span>注意事项</span></h4><ul><li><span>UNION ALL 会有重复结果，UNION 不会</span></li><li><span>联合查询比使用or效率高，不会使索引失效</span></li></ul><h3 id='子查询'><span>子查询</span></h3><p><span>SQL语句中嵌套SELECT语句，称谓嵌套查询，又称子查询。</span>
<code>SELECT * FROM t1 WHERE column1 = ( SELECT column1 FROM t2);</code>
<strong><span>子查询外部的语句可以是 INSERT / UPDATE / DELETE / SELECT 的任何一个</span></strong></p><p><span>根据子查询结果可以分为：</span></p><ul><li><span>标量子查询（子查询结果为单个值）</span></li><li><span>列子查询（子查询结果为一列）</span></li><li><span>行子查询（子查询结果为一行）</span></li><li><span>表子查询（子查询结果为多行多列）</span></li></ul><p><span>根据子查询位置可分为：</span></p><ul><li><span>WHERE 之后</span></li><li><span>FROM 之后</span></li><li><span>SELECT 之后</span></li></ul><h4 id='标量子查询'><span>标量子查询</span></h4><p><span>子查询返回的结果是单个值（数字、字符串、日期等）。</span>
<span>常用操作符：- &lt; &gt; &gt; &gt;= &lt; &lt;=</span></p><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询销售部所有员工</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> id <span class="cm-keyword">from</span> dept <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'销售部'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 根据销售部部门ID，查询员工信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> dept <span class="cm-operator">=</span> <span class="cm-number">4</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 合并（子查询）</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> dept <span class="cm-operator">=</span> <span class="cm-bracket">(</span><span class="cm-keyword">select</span> id <span class="cm-keyword">from</span> dept <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'销售部'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询xxx入职之后的员工信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> entrydate <span class="cm-operator">&gt;</span> <span class="cm-bracket">(</span><span class="cm-keyword">select</span> entrydate <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'xxx'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 224px;"></div><div class="CodeMirror-gutters" style="display: none; height: 224px;"></div></div></div></pre><h4 id='列子查询'><span>列子查询</span></h4><p><span>返回的结果是一列（可以是多行）。</span></p><p><span>常用操作符：</span></p><figure><table><thead><tr><th><span>操作符</span></th><th><span>描述</span></th></tr></thead><tbody><tr><td><span>IN</span></td><td><span>在指定的集合范围内，多选一</span></td></tr><tr><td><span>NOT IN</span></td><td><span>不在指定的集合范围内</span></td></tr><tr><td><span>ANY</span></td><td><span>子查询返回列表中，有任意一个满足即可</span></td></tr><tr><td><span>SOME</span></td><td><span>与ANY等同，使用SOME的地方都可以使用ANY</span></td></tr><tr><td><span>ALL</span></td><td><span>子查询返回列表的所有值都必须满足</span></td></tr></tbody></table></figure><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询销售部和市场部的所有员工信息</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> dept <span class="cm-keyword">in</span> <span class="cm-bracket">(</span><span class="cm-keyword">select</span> id <span class="cm-keyword">from</span> dept <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'销售部'</span> <span class="cm-keyword">or</span> name <span class="cm-operator">=</span> <span class="cm-string">'市场部'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询比财务部所有人工资都高的员工信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> salary <span class="cm-operator">&gt;</span> <span class="cm-keyword">all</span><span class="cm-bracket">(</span><span class="cm-keyword">select</span> salary <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> dept <span class="cm-operator">=</span> <span class="cm-bracket">(</span><span class="cm-keyword">select</span> id <span class="cm-keyword">from</span> dept <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'财务部'</span><span class="cm-bracket">))</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询比研发部任意一人工资高的员工信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> salary <span class="cm-operator">&gt;</span> any <span class="cm-bracket">(</span><span class="cm-keyword">select</span> salary <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> dept <span class="cm-operator">=</span> <span class="cm-bracket">(</span><span class="cm-keyword">select</span> id <span class="cm-keyword">from</span> dept <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'研发部'</span><span class="cm-bracket">))</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 201px;"></div><div class="CodeMirror-gutters" style="display: none; height: 201px;"></div></div></div></pre><h4 id='行子查询'><span>行子查询</span></h4><p><span>返回的结果是一行（可以是多列）。</span>
<span>常用操作符：=, &lt;, &gt;, IN, NOT IN</span></p><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询与xxx的薪资及直属领导相同的员工信息</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> <span class="cm-bracket">(</span>salary<span class="cm-punctuation">,</span> manager<span class="cm-bracket">)</span> <span class="cm-operator">=</span> <span class="cm-bracket">(</span><span class="cm-number">12500</span><span class="cm-punctuation">,</span> <span class="cm-number">1</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> <span class="cm-bracket">(</span>salary<span class="cm-punctuation">,</span> manager<span class="cm-bracket">)</span> <span class="cm-operator">=</span> <span class="cm-bracket">(</span><span class="cm-keyword">select</span> salary<span class="cm-punctuation">,</span> manager <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'xxx'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 90px;"></div></div></div></pre><h4 id='表子查询'><span>表子查询</span></h4><p><span>返回的结果是多行多列</span>
<span>常用操作符：IN</span></p><p><span>例子：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询与xxx1，xxx2的职位和薪资相同的员工</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> <span class="cm-bracket">(</span>job<span class="cm-punctuation">,</span> salary<span class="cm-bracket">)</span> <span class="cm-keyword">in</span> <span class="cm-bracket">(</span><span class="cm-keyword">select</span> job<span class="cm-punctuation">,</span> salary <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'xxx1'</span> <span class="cm-keyword">or</span> name <span class="cm-operator">=</span> <span class="cm-string">'xxx2'</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询入职日期是2006-01-01之后的员工，及其部门信息</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> e.<span class="cm-operator">*</span><span class="cm-punctuation">,</span> d.<span class="cm-operator">*</span> <span class="cm-keyword">from</span> <span class="cm-bracket">(</span><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> employee <span class="cm-keyword">where</span> entrydate <span class="cm-operator">&gt;</span> <span class="cm-string">'2006-01-01'</span><span class="cm-bracket">)</span> <span class="cm-keyword">as</span> e <span class="cm-keyword">left</span> <span class="cm-keyword">join</span> dept <span class="cm-keyword">as</span> d <span class="cm-keyword">on</span> e<span class="cm-variable-2">.dept</span> <span class="cm-operator">=</span> d<span class="cm-variable-2">.id</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="display: none; height: 134px;"></div></div></div></pre><h2 id='事务'><span>事务</span></h2><p><span>事务是一组操作的集合，事务会把所有操作作为一个整体一起向系统提交或撤销操作请求，即这些操作要么同时成功，要么同时失败。</span></p><p><span>基本操作：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 1. 查询张三账户余额</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> account <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'张三'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 2. 将张三账户余额-1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">update</span> account <span class="cm-keyword">set</span> money <span class="cm-operator">=</span> money <span class="cm-operator">-</span> <span class="cm-number">1000</span> <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'张三'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 此语句出错后张三钱减少但是李四钱没有增加</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">模拟sql语句错误</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 3. 将李四账户余额+1000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">update</span> account <span class="cm-keyword">set</span> money <span class="cm-operator">=</span> money <span class="cm-operator">+</span> <span class="cm-number">1000</span> <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'李四'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查看事务提交方式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> <span class="cm-variable-2">@@AUTOCOMMIT</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 设置事务提交方式，1为自动提交，0为手动提交，该设置只对当前会话有效</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SET</span> <span class="cm-variable-2">@@AUTOCOMMIT</span> <span class="cm-operator">=</span> <span class="cm-number">0</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 提交事务</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">COMMIT</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 回滚事务</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">ROLLBACK</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 设置手动提交后上面代码改为：</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> account <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'张三'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">update</span> account <span class="cm-keyword">set</span> money <span class="cm-operator">=</span> money <span class="cm-operator">-</span> <span class="cm-number">1000</span> <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'张三'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">update</span> account <span class="cm-keyword">set</span> money <span class="cm-operator">=</span> money <span class="cm-operator">+</span> <span class="cm-number">1000</span> <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'李四'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">commit</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 515px;"></div><div class="CodeMirror-gutters" style="display: none; height: 515px;"></div></div></div></pre><p><span>操作方式二：</span></p><p><span>开启事务：</span>
<code>START TRANSACTION 或 BEGIN TRANSACTION;</code>
<span>提交事务：</span>
<code>COMMIT;</code>
<span>回滚事务：</span>
<code>ROLLBACK;</code></p><p><span>操作实例：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">start</span> <span class="cm-keyword">transaction</span><span class="cm-punctuation">;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> account <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'张三'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">update</span> account <span class="cm-keyword">set</span> money <span class="cm-operator">=</span> money <span class="cm-operator">-</span> <span class="cm-number">1000</span> <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'张三'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">update</span> account <span class="cm-keyword">set</span> money <span class="cm-operator">=</span> money <span class="cm-operator">+</span> <span class="cm-number">1000</span> <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'李四'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">commit</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 112px;"></div><div class="CodeMirror-gutters" style="display: none; height: 112px;"></div></div></div></pre><h3 id='四大特性acid'><span>四大特性ACID</span></h3><ul><li><span>原子性(Atomicity)：事务是不可分割的最小操作但愿，要么全部成功，要么全部失败</span></li><li><span>一致性(Consistency)：事务完成时，必须使所有数据都保持一致状态</span></li><li><span>隔离性(Isolation)：数据库系统提供的隔离机制，保证事务在不受外部并发操作影响的独立环境下运行</span></li><li><span>持久性(Durability)：事务一旦提交或回滚，它对数据库中的数据的改变就是永久的</span></li></ul><h3 id='并发事务'><span>并发事务</span></h3><figure><table><thead><tr><th><span>问题</span></th><th><span>描述</span></th></tr></thead><tbody><tr><td><span>脏读</span></td><td><span>一个事务读到另一个事务还没提交的数据</span></td></tr><tr><td><span>不可重复读</span></td><td><span>一个事务先后读取同一条记录，但两次读取的数据不同</span></td></tr><tr><td><span>幻读</span></td><td><span>一个事务按照条件查询数据时，没有对应的数据行，但是再插入数据时，又发现这行数据已经存在</span></td></tr></tbody></table></figure><blockquote><p><span>这三个问题的详细演示：</span><a href='https://www.bilibili.com/video/BV1Kr4y1i7ru?p=55cd' target='_blank' class='url'>https://www.bilibili.com/video/BV1Kr4y1i7ru?p=55cd</a><span> </span></p></blockquote><p><span>并发事务隔离级别：</span></p><figure><table><thead><tr><th><span>隔离级别</span></th><th><span>脏读</span></th><th><span>不可重复读</span></th><th><span>幻读</span></th></tr></thead><tbody><tr><td><span>Read uncommitted</span></td><td><span>√</span></td><td><span>√</span></td><td><span>√</span></td></tr><tr><td><span>Read committed</span></td><td><span>×</span></td><td><span>√</span></td><td><span>√</span></td></tr><tr><td><span>Repeatable Read(默认)</span></td><td><span>×</span></td><td><span>×</span></td><td><span>√</span></td></tr><tr><td><span>Serializable</span></td><td><span>×</span></td><td><span>×</span></td><td><span>×</span></td></tr></tbody></table></figure><ul><li><span>√表示在当前隔离级别下该问题会出现</span></li><li><span>Serializable 性能最低；Read uncommitted 性能最高，数据安全性最差</span></li></ul><p><span>查看事务隔离级别：</span>
<code>SELECT @@TRANSACTION_ISOLATION;</code>
<span>设置事务隔离级别：</span>
<code>SET [ SESSION | GLOBAL ] TRANSACTION ISOLATION LEVEL {READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE };</code>
<span>SESSION 是会话级别，表示只针对当前会话有效，GLOBAL 表示对所有会话有效</span></p><h1 id='进阶篇'><span>进阶篇</span></h1><h2 id='存储引擎'><span>存储引擎</span></h2><p><span>MySQL体系结构：</span></p><p><img src="https://dhc.pythonanywhere.com/media/editor/MySQL体系结构_20220315034329549927.png" referrerpolicy="no-referrer" alt="结构图" title="结构图">
<img src="https://dhc.pythonanywhere.com/media/editor/MySQL体系结构层级含义_20220315034359342837.png" referrerpolicy="no-referrer" alt="层级描述" title="层级描述"></p><p><span>存储引擎就是存储数据、建立索引、更新/查询数据等技术的实现方式。存储引擎是基于表而不是基于库的，所以存储引擎也可以被称为表引擎。</span>
<span>默认存储引擎是InnoDB。</span></p><p><span>相关操作：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查询建表语句</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">show</span> <span class="cm-keyword">create</span> <span class="cm-keyword">table</span> account<span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 建表时指定存储引擎</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">TABLE</span> 表名<span class="cm-bracket">(</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span> <span class="cm-keyword">ENGINE</span><span class="cm-operator">=</span><span class="cm-keyword">INNODB</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 查看当前数据库支持的存储引擎</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">show</span> <span class="cm-keyword">engines</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 179px;"></div><div class="CodeMirror-gutters" style="display: none; height: 179px;"></div></div></div></pre><h3 id='innodb'><span>InnoDB</span></h3><p><span>InnoDB 是一种兼顾高可靠性和高性能的通用存储引擎，在 MySQL 5.5 之后，InnoDB 是默认的 MySQL 引擎。</span></p><p><span>特点：</span></p><ul><li><span>DML 操作遵循 ACID 模型，支持</span><strong><span>事务</span></strong></li><li><strong><span>行级锁</span></strong><span>，提高并发访问性能</span></li><li><span>支持</span><strong><span>外键</span></strong><span>约束，保证数据的完整性和正确性</span></li></ul><p><span>文件：</span></p><ul><li><span>xxx.ibd: xxx代表表名，InnoDB 引擎的每张表都会对应这样一个表空间文件，存储该表的表结构（frm、sdi）、数据和索引。</span></li></ul><p><span>参数：innodb_file_per_table，决定多张表共享一个表空间还是每张表对应一个表空间</span></p><p><span>知识点：</span></p><p><span>查看 Mysql 变量：</span>
<code>show variables like &#39;innodb_file_per_table&#39;;</code></p><p><span>从idb文件提取表结构数据：</span>
<span>（在cmd运行）</span>
<code>ibd2sdi xxx.ibd</code></p><p><span>InnoDB 逻辑存储结构：</span>
<img src="https://dhc.pythonanywhere.com/media/editor/逻辑存储结构_20220316030616590001.png" referrerpolicy="no-referrer" alt="InnoDB逻辑存储结构" title="InnoDB逻辑存储结构"></p><h3 id='myisam'><span>MyISAM</span></h3><p><span>MyISAM 是 MySQL 早期的默认存储引擎。</span></p><p><span>特点：</span></p><ul><li><span>不支持事务，不支持外键</span></li><li><span>支持表锁，不支持行锁</span></li><li><span>访问速度快</span></li></ul><p><span>文件：</span></p><ul><li><span>xxx.sdi: 存储表结构信息</span></li><li><span>xxx.MYD: 存储数据</span></li><li><span>xxx.MYI: 存储索引</span></li></ul><h3 id='memory'><span>Memory</span></h3><p><span>Memory 引擎的表数据是存储在内存中的，受硬件问题、断电问题的影响，只能将这些表作为临时表或缓存使用。</span></p><p><span>特点：</span></p><ul><li><span>存放在内存中，速度快</span></li><li><span>hash索引（默认）</span></li></ul><p><span>文件：</span></p><ul><li><span>xxx.sdi: 存储表结构信息</span></li></ul><h3 id='存储引擎特点'><span>存储引擎特点</span></h3><figure><table><thead><tr><th><span>特点</span></th><th><span>InnoDB</span></th><th><span>MyISAM</span></th><th><span>Memory</span></th></tr></thead><tbody><tr><td><span>存储限制</span></td><td><span>64TB</span></td><td><span>有</span></td><td><span>有</span></td></tr><tr><td><span>事务安全</span></td><td><span>支持</span></td><td><span>-</span></td><td><span>-</span></td></tr><tr><td><span>锁机制</span></td><td><span>行锁</span></td><td><span>表锁</span></td><td><span>表锁</span></td></tr><tr><td><span>B+tree索引</span></td><td><span>支持</span></td><td><span>支持</span></td><td><span>支持</span></td></tr><tr><td><span>Hash索引</span></td><td><span>-</span></td><td><span>-</span></td><td><span>支持</span></td></tr><tr><td><span>全文索引</span></td><td><span>支持（5.6版本之后）</span></td><td><span>支持</span></td><td><span>-</span></td></tr><tr><td><span>空间使用</span></td><td><span>高</span></td><td><span>低</span></td><td><span>N/A</span></td></tr><tr><td><span>内存使用</span></td><td><span>高</span></td><td><span>低</span></td><td><span>中等</span></td></tr><tr><td><span>批量插入速度</span></td><td><span>低</span></td><td><span>高</span></td><td><span>高</span></td></tr><tr><td><span>支持外键</span></td><td><span>支持</span></td><td><span>-</span></td><td><span>-</span></td></tr></tbody></table></figure><h3 id='存储引擎的选择'><span>存储引擎的选择</span></h3><p><span>在选择存储引擎时，应该根据应用系统的特点选择合适的存储引擎。对于复杂的应用系统，还可以根据实际情况选择多种存储引擎进行组合。</span></p><ul><li><span>InnoDB: 如果应用对事物的完整性有比较高的要求，在并发条件下要求数据的一致性，数据操作除了插入和查询之外，还包含很多的更新、删除操作，则 InnoDB 是比较合适的选择</span></li><li><span>MyISAM: 如果应用是以读操作和插入操作为主，只有很少的更新和删除操作，并且对事务的完整性、并发性要求不高，那这个存储引擎是非常合适的。</span></li><li><span>Memory: 将所有数据保存在内存中，访问速度快，通常用于临时表及缓存。Memory 的缺陷是对表的大小有限制，太大的表无法缓存在内存中，而且无法保障数据的安全性</span></li></ul><p><span>电商中的足迹和评论适合使用 MyISAM 引擎，缓存适合使用 Memory 引擎。</span></p><h2 id='性能分析'><span>性能分析</span></h2><h3 id='查看执行频次'><span>查看执行频次</span></h3><p><span>查看当前数据库的 INSERT, UPDATE, DELETE, SELECT 访问频次：</span>
<code>SHOW GLOBAL STATUS LIKE &#39;Com_______&#39;;</code><span> 或者 </span><code>SHOW SESSION STATUS LIKE &#39;Com_______&#39;;</code>
<span>例：</span><code>show global status like &#39;Com_______&#39;</code></p><h3 id='慢查询日志'><span>慢查询日志</span></h3><p><span>慢查询日志记录了所有执行时间超过指定参数（long_query_time，单位：秒，默认10秒）的所有SQL语句的日志。</span>
<span>MySQL的慢查询日志默认没有开启，需要在MySQL的配置文件（/etc/my.cnf）中配置如下信息：</span>
<span>	</span><span># 开启慢查询日志开关</span>
<span>	</span><span>slow_query_log=1</span>
<span>	</span><span># 设置慢查询日志的时间为2秒，SQL语句执行时间超过2秒，就会视为慢查询，记录慢查询日志</span>
<span>	</span><span>long_query_time=2</span>
<span>更改后记得重启MySQL服务，日志文件位置：/var/lib/mysql/localhost-slow.log</span></p><p><span>查看慢查询日志开关状态：</span>
<code>show variables like &#39;slow_query_log&#39;;</code></p><h3 id='profile'><span>profile</span></h3><p><span>show profile 能在做SQL优化时帮我们了解时间都耗费在哪里。通过 have_profiling 参数，能看到当前 MySQL 是否支持 profile 操作：</span>
<code>SELECT @@have_profiling;</code>
<span>profiling 默认关闭，可以通过set语句在session/global级别开启 profiling：</span>
<code>SET profiling = 1;</code>
<span>查看所有语句的耗时：</span>
<code>show profiles;</code>
<span>查看指定query_id的SQL语句各个阶段的耗时：</span>
<code>show profile for query query_id;</code>
<span>查看指定query_id的SQL语句CPU的使用情况</span>
<code>show profile cpu for query query_id;</code></p><h3 id='explain'><span>explain</span></h3><p><span>EXPLAIN 或者 DESC 命令获取 MySQL 如何执行 SELECT 语句的信息，包括在 SELECT 语句执行过程中表如何连接和连接的顺序。</span>
<span>语法：</span>
<span>	</span><span># 直接在select语句之前加上关键字 explain / desc</span>
<span>	</span><span>EXPLAIN SELECT 字段列表 FROM 表名 HWERE 条件;</span></p><p><span>EXPLAIN 各字段含义：</span></p><ul><li><span>id：select 查询的序列号，表示查询中执行 select 子句或者操作表的顺序（id相同，执行顺序从上到下；id不同，值越大越先执行）</span></li><li><span>select_type：表示 SELECT 的类型，常见取值有 SIMPLE（简单表，即不适用表连接或者子查询）、PRIMARY（主查询，即外层的查询）、UNION（UNION中的第二个或者后面的查询语句）、SUBQUERY（SELECT/WHERE之后包含了子查询）等</span></li><li><span>type：表示连接类型，性能由好到差的连接类型为 NULL、system、const、eq_ref、ref、range、index、all</span></li><li><span>possible_key：可能应用在这张表上的索引，一个或多个</span></li><li><span>Key：实际使用的索引，如果为 NULL，则没有使用索引</span></li><li><span>Key_len：表示索引中使用的字节数，该值为索引字段最大可能长度，并非实际使用长度，在不损失精确性的前提下，长度越短越好</span></li><li><span>rows：MySQL认为必须要执行的行数，在InnoDB引擎的表中，是一个估计值，可能并不总是准确的</span></li><li><span>filtered：表示返回结果的行数占需读取行数的百分比，filtered的值越大越好</span></li></ul><h2 id='索引'><span>索引</span></h2><p><span>索引是帮助 MySQL </span><strong><span>高效获取数据</span></strong><span>的</span><strong><span>数据结构（有序）</span></strong><span>。在数据之外，数据库系统还维护着满足特定查找算法的数据结构，这些数据结构以某种方式引用（指向）数据，这样就可以在这些数据结构上实现高级查询算法，这种数据结构就是索引。</span></p><p><span>优缺点：</span></p><p><span>优点：</span></p><ul><li><span>提高数据检索效率，降低数据库的IO成本</span></li><li><span>通过索引列对数据进行排序，降低数据排序的成本，降低CPU的消耗</span></li></ul><p><span>缺点：</span></p><ul><li><span>索引列也是要占用空间的</span></li><li><span>索引大大提高了查询效率，但降低了更新的速度，比如 INSERT、UPDATE、DELETE</span></li></ul><h3 id='索引结构'><span>索引结构</span></h3><figure><table><thead><tr><th><span>索引结构</span></th><th><span>描述</span></th></tr></thead><tbody><tr><td><span>B+Tree</span></td><td><span>最常见的索引类型，大部分引擎都支持B+树索引</span></td></tr><tr><td><span>Hash</span></td><td><span>底层数据结构是用哈希表实现，只有精确匹配索引列的查询才有效，不支持范围查询</span></td></tr><tr><td><span>R-Tree(空间索引)</span></td><td><span>空间索引是 MyISAM 引擎的一个特殊索引类型，主要用于地理空间数据类型，通常使用较少</span></td></tr><tr><td><span>Full-Text(全文索引)</span></td><td><span>是一种通过建立倒排索引，快速匹配文档的方式，类似于 Lucene, Solr, ES</span></td></tr></tbody></table></figure><figure><table><thead><tr><th><span>索引</span></th><th><span>InnoDB</span></th><th><span>MyISAM</span></th><th><span>Memory</span></th></tr></thead><tbody><tr><td><span>B+Tree索引</span></td><td><span>支持</span></td><td><span>支持</span></td><td><span>支持</span></td></tr><tr><td><span>Hash索引</span></td><td><span>不支持</span></td><td><span>不支持</span></td><td><span>支持</span></td></tr><tr><td><span>R-Tree索引</span></td><td><span>不支持</span></td><td><span>支持</span></td><td><span>不支持</span></td></tr><tr><td><span>Full-text</span></td><td><span>5.6版本后支持</span></td><td><span>支持</span></td><td><span>不支持</span></td></tr></tbody></table></figure><h4 id='b-tree'><span>B-Tree</span></h4><p><img src="https://dhc.pythonanywhere.com/media/editor/二叉树_20220316153214227108.png" referrerpolicy="no-referrer" alt="二叉树" title="二叉树"></p><p><span>二叉树的缺点可以用红黑树来解决：</span>
<img src="https://dhc.pythonanywhere.com/media/editor/红黑树_20220316163142686602.png" referrerpolicy="no-referrer" alt="红黑树" title="红黑树">
<span>红黑树也存在大数据量情况下，层级较深，检索速度慢的问题。</span></p><p><span>为了解决上述问题，可以使用 B-Tree 结构。</span>
<span>B-Tree (多路平衡查找树) 以一棵最大度数（max-degree，指一个节点的子节点个数）为5（5阶）的 b-tree 为例（每个节点最多存储4个key，5个指针）</span></p><p><img src="https://dhc.pythonanywhere.com/media/editor/B-Tree结构_20220316163813441163.png" referrerpolicy="no-referrer" alt="B-Tree结构" title="B-Tree结构"></p><blockquote><p><span>B-Tree 的数据插入过程动画参照：</span><a href='https://www.bilibili.com/video/BV1Kr4y1i7ru?p=68' target='_blank' class='url'>https://www.bilibili.com/video/BV1Kr4y1i7ru?p=68</a>
<span>演示地址：</span><a href='https://www.cs.usfca.edu/~galles/visualization/BTree.html' target='_blank' class='url'>https://www.cs.usfca.edu/~galles/visualization/BTree.html</a></p></blockquote><h4 id='btree'><span>B+Tree</span></h4><p><span>结构图：</span></p><p><img src="https://dhc.pythonanywhere.com/media/editor/B+Tree结构图_20220316170700591277.png" referrerpolicy="no-referrer" alt="B+Tree结构图" title="B+Tree结构图"></p><blockquote><p><span>演示地址：</span><a href='https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html' target='_blank' class='url'>https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html</a></p></blockquote><p><span>与 B-Tree 的区别：</span></p><ul><li><span>所有的数据都会出现在叶子节点</span></li><li><span>叶子节点形成一个单向链表</span></li></ul><p><span>MySQL 索引数据结构对经典的 B+Tree 进行了优化。在原 B+Tree 的基础上，增加一个指向相邻叶子节点的链表指针，就形成了带有顺序指针的 B+Tree，提高区间访问的性能。</span></p><p><img src="https://dhc.pythonanywhere.com/media/editor/结构图_20220316171730865611.png" referrerpolicy="no-referrer" alt="MySQL B+Tree 结构图" title="MySQL B+Tree 结构图"></p><h4 id='hash'><span>Hash</span></h4><p><span>哈希索引就是采用一定的hash算法，将键值换算成新的hash值，映射到对应的槽位上，然后存储在hash表中。</span>
<span>如果两个（或多个）键值，映射到一个相同的槽位上，他们就产生了hash冲突（也称为hash碰撞），可以通过链表来解决。</span></p><p><img src="https://dhc.pythonanywhere.com/media/editor/Hash索引原理图_20220317143226150679.png" referrerpolicy="no-referrer" alt="Hash索引原理图" title="Hash索引原理图"></p><p><span>特点：</span></p><ul><li><span>Hash索引只能用于对等比较（=、in），不支持范围查询（betwwn、&gt;、&lt;、...）</span></li><li><span>无法利用索引完成排序操作</span></li><li><span>查询效率高，通常只需要一次检索就可以了，效率通常要高于 B+Tree 索引</span></li></ul><p><span>存储引擎支持：</span></p><ul><li><span>Memory</span></li><li><span>InnoDB: 具有自适应hash功能，hash索引是存储引擎根据 B+Tree 索引在指定条件下自动构建的</span></li></ul><h4 id='面试题'><span>面试题</span></h4><ol start='' ><li><span>为什么 InnoDB 存储引擎选择使用 B+Tree 索引结构？</span></li></ol><ul><li><span>相对于二叉树，层级更少，搜索效率高</span></li><li><span>对于 B-Tree，无论是叶子节点还是非叶子节点，都会保存数据，这样导致一页中存储的键值减少，指针也跟着减少，要同样保存大量数据，只能增加树的高度，导致性能降低</span></li><li><span>相对于 Hash 索引，B+Tree 支持范围匹配及排序操作</span></li></ul><h3 id='索引分类'><span>索引分类</span></h3><figure><table><thead><tr><th><span>分类</span></th><th><span>含义</span></th><th><span>特点</span></th><th><span>关键字</span></th></tr></thead><tbody><tr><td><span>主键索引</span></td><td><span>针对于表中主键创建的索引</span></td><td><span>默认自动创建，只能有一个</span></td><td><span>PRIMARY</span></td></tr><tr><td><span>唯一索引</span></td><td><span>避免同一个表中某数据列中的值重复</span></td><td><span>可以有多个</span></td><td><span>UNIQUE</span></td></tr><tr><td><span>常规索引</span></td><td><span>快速定位特定数据</span></td><td><span>可以有多个</span></td><td>&nbsp;</td></tr><tr><td><span>全文索引</span></td><td><span>全文索引查找的是文本中的关键词，而不是比较索引中的值</span></td><td><span>可以有多个</span></td><td><span>FULLTEXT</span></td></tr></tbody></table></figure><p><span>在 InnoDB 存储引擎中，根据索引的存储形式，又可以分为以下两种：</span></p><figure><table><thead><tr><th><span>分类</span></th><th><span>含义</span></th><th><span>特点</span></th></tr></thead><tbody><tr><td><span>聚集索引(Clustered Index)</span></td><td><span>将数据存储与索引放一块，索引结构的叶子节点保存了行数据</span></td><td><span>必须有，而且只有一个</span></td></tr><tr><td><span>二级索引(Secondary Index)</span></td><td><span>将数据与索引分开存储，索引结构的叶子节点关联的是对应的主键</span></td><td><span>可以存在多个</span></td></tr></tbody></table></figure><p><span>演示图：</span></p><p><img src="https://dhc.pythonanywhere.com/media/editor/原理图_20220318194454880073.png" referrerpolicy="no-referrer" alt="大致原理" title="大致原理">
<img src="https://dhc.pythonanywhere.com/media/editor/演示图_20220319215403721066.png" referrerpolicy="no-referrer" alt="演示图" title="演示图"></p><p><span>聚集索引选取规则：</span></p><ul><li><span>如果存在主键，主键索引就是聚集索引</span></li><li><span>如果不存在主键，将使用第一个唯一(UNIQUE)索引作为聚集索引</span></li><li><span>如果表没有主键或没有合适的唯一索引，则 InnoDB 会自动生成一个 rowid 作为隐藏的聚集索引</span></li></ul><h4 id='思考题'><span>思考题</span></h4><p><span>1</span><span>.</span><span> 以下 SQL 语句，哪个执行效率高？为什么？</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> <span class="cm-keyword">user</span> <span class="cm-keyword">where</span> id <span class="cm-operator">=</span> <span class="cm-number">10</span><span class="cm-punctuation">;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> <span class="cm-keyword">user</span> <span class="cm-keyword">where</span> name <span class="cm-operator">=</span> <span class="cm-string">'Arm'</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 备注：id为主键，name字段创建的有索引</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 67px;"></div><div class="CodeMirror-gutters" style="display: none; height: 67px;"></div></div></div></pre><p><span>答：第一条语句，因为第二条需要回表查询，相当于两个步骤。</span></p><p><span>2</span><span>.</span><span> InnoDB 主键索引的 B+Tree 高度为多少？</span></p><p><span>答：假设一行数据大小为1k，一页中可以存储16行这样的数据。InnoDB 的指针占用6个字节的空间，主键假设为bigint，占用字节数为8.</span>
<span>可得公式：</span><code>n * 8 + (n + 1) * 6 = 16 * 1024</code><span>，其中 8 表示 bigint 占用的字节数，n 表示当前节点存储的key的数量，(n + 1) 表示指针数量（比key多一个）。算出n约为1170。</span></p><p><span>如果树的高度为2，那么他能存储的数据量大概为：</span><code>1171 * 16 = 18736</code><span>；</span>
<span>如果树的高度为3，那么他能存储的数据量大概为：</span><code>1171 * 1171 * 16 = 21939856</code><span>。</span></p><p><span>另外，如果有成千上万的数据，那么就要考虑分表，涉及运维篇知识。</span></p><h3 id='语法'><span>语法</span></h3><p><span>创建索引：</span>
<code>CREATE [ UNIQUE | FULLTEXT ] INDEX index_name ON table_name (index_col_name, ...);</code>
<span>如果不加 CREATE 后面不加索引类型参数，则创建的是常规索引</span></p><p><span>查看索引：</span>
<code>SHOW INDEX FROM table_name;</code></p><p><span>删除索引：</span>
<code>DROP INDEX index_name ON table_name;</code></p><p><span>案例：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- name字段为姓名字段，该字段的值可能会重复，为该字段创建索引</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">index</span> idx_user_name <span class="cm-keyword">on</span> tb_user<span class="cm-bracket">(</span>name<span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- phone手机号字段的值非空，且唯一，为该字段创建唯一索引</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">unique</span> <span class="cm-keyword">index</span> idx_user_phone <span class="cm-keyword">on</span> tb_user <span class="cm-bracket">(</span>phone<span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 为profession, age, status创建联合索引</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">index</span> idx_user_pro_age_stat <span class="cm-keyword">on</span> tb_user<span class="cm-bracket">(</span>profession<span class="cm-punctuation">,</span> age<span class="cm-punctuation">,</span> <span class="cm-keyword">status</span><span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 为email建立合适的索引来提升查询效率</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">index</span> idx_user_email <span class="cm-keyword">on</span> tb_user<span class="cm-bracket">(</span>email<span class="cm-bracket">)</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 删除索引</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">drop</span> <span class="cm-keyword">index</span> idx_user_email <span class="cm-keyword">on</span> tb_user<span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 246px;"></div><div class="CodeMirror-gutters" style="display: none; height: 246px;"></div></div></div></pre><h3 id='使用规则'><span>使用规则</span></h3><h4 id='最左前缀法则'><span>最左前缀法则</span></h4><p><span>如果索引关联了多列（联合索引），要遵守最左前缀法则，最左前缀法则指的是查询从索引的最左列开始，并且不跳过索引中的列。</span>
<span>如果跳跃某一列，索引将部分失效（后面的字段索引失效）。</span></p><p><span>联合索引中，出现范围查询（&lt;, &gt;），范围查询右侧的列索引失效。可以用&gt;=或者&lt;=来规避索引失效问题。</span></p><h4 id='索引失效情况'><span>索引失效情况</span></h4><ol start='' ><li><span>在索引列上进行运算操作，索引将失效。如：</span><code>explain select * from tb_user where substring(phone, 10, 2) = &#39;15&#39;;</code></li><li><span>字符串类型字段使用时，不加引号，索引将失效。如：</span><code>explain select * from tb_user where phone = 17799990015;</code><span>，此处phone的值没有加引号</span></li><li><span>模糊查询中，如果仅仅是尾部模糊匹配，索引不会是失效；如果是头部模糊匹配，索引失效。如：</span><code>explain select * from tb_user where profession like &#39;%工程&#39;;</code><span>，前后都有 % 也会失效。</span></li><li><span>用 or 分割开的条件，如果 or 其中一个条件的列没有索引，那么涉及的索引都不会被用到。</span></li><li><span>如果 MySQL 评估使用索引比全表更慢，则不使用索引。</span></li></ol><h4 id='sql-提示'><span>SQL 提示</span></h4><p><span>是优化数据库的一个重要手段，简单来说，就是在SQL语句中加入一些人为的提示来达到优化操作的目的。</span></p><p><span>例如，使用索引：</span>
<code>explain select * from tb_user use index(idx_user_pro) where profession=&quot;软件工程&quot;;</code>
<span>不使用哪个索引：</span>
<code>explain select * from tb_user ignore index(idx_user_pro) where profession=&quot;软件工程&quot;;</code>
<span>必须使用哪个索引：</span>
<code>explain select * from tb_user force index(idx_user_pro) where profession=&quot;软件工程&quot;;</code></p><p><span>use 是建议，实际使用哪个索引 MySQL 还会自己权衡运行速度去更改，force就是无论如何都强制使用该索引。</span></p><h4 id='覆盖索引回表查询'><span>覆盖索引&amp;回表查询</span></h4><p><span>尽量使用覆盖索引（查询使用了索引，并且需要返回的列，在该索引中已经全部能找到），减少 select *。</span></p><p><span>explain 中 extra 字段含义：</span>
<code>using index condition</code><span>：查找使用了索引，但是需要回表查询数据</span>
<code>using where; using index;</code><span>：查找使用了索引，但是需要的数据都在索引列中能找到，所以不需要回表查询</span></p><p><span>如果在聚集索引中直接能找到对应的行，则直接返回行数据，只需要一次查询，哪怕是select </span><span>*</span><span>；如果在辅助索引中找聚集索引，如</span><code>select id, name from xxx where name=&#39;xxx&#39;;</code><span>，也只需要通过辅助索引(name)查找到对应的id，返回name和name索引对应的id即可，只需要一次查询；如果是通过辅助索引查找其他字段，则需要回表查询，如</span><code>select id, name, gender from xxx where name=&#39;xxx&#39;;</code></p><p><span>所以尽量不要用</span><code>select *</code><span>，容易出现回表查询，降低效率，除非有联合索引包含了所有字段</span></p><p><span>面试题：一张表，有四个字段（id, username, password, status），由于数据量大，需要对以下SQL语句进行优化，该如何进行才是最优方案：</span>
<code>select id, username, password from tb_user where username=&#39;itcast&#39;;</code></p><p><span>解：给username和password字段建立联合索引，则不需要回表查询，直接覆盖索引</span></p><h4 id='前缀索引'><span>前缀索引</span></h4><p><span>当字段类型为字符串（varchar, text等）时，有时候需要索引很长的字符串，这会让索引变得很大，查询时，浪费大量的磁盘IO，影响查询效率，此时可以只降字符串的一部分前缀，建立索引，这样可以大大节约索引空间，从而提高索引效率。</span></p><p><span>语法：</span><code>create index idx_xxxx on table_name(columnn(n));</code>
<span>前缀长度：可以根据索引的选择性来决定，而选择性是指不重复的索引值（基数）和数据表的记录总数的比值，索引选择性越高则查询效率越高，唯一索引的选择性是1，这是最好的索引选择性，性能也是最好的。</span>
<span>求选择性公式：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-keyword">count</span><span class="cm-bracket">(</span><span class="cm-keyword">distinct</span> email<span class="cm-bracket">)</span> / <span class="cm-keyword">count</span><span class="cm-bracket">(</span><span class="cm-operator">*</span><span class="cm-bracket">)</span> <span class="cm-keyword">from</span> tb_user<span class="cm-punctuation">;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-keyword">count</span><span class="cm-bracket">(</span><span class="cm-keyword">distinct</span> substring<span class="cm-bracket">(</span>email<span class="cm-punctuation">,</span> <span class="cm-number">1</span><span class="cm-punctuation">,</span> <span class="cm-number">5</span><span class="cm-bracket">))</span> / <span class="cm-keyword">count</span><span class="cm-bracket">(</span><span class="cm-operator">*</span><span class="cm-bracket">)</span> <span class="cm-keyword">from</span> tb_user<span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 45px;"></div></div></div></pre><p><span>show index 里面的sub_part可以看到接取的长度</span></p><h4 id='单列索引联合索引'><span>单列索引&amp;联合索引</span></h4><p><span>单列索引：即一个索引只包含单个列</span>
<span>联合索引：即一个索引包含了多个列</span>
<span>在业务场景中，如果存在多个查询条件，考虑针对于查询字段建立索引时，建议建立联合索引，而非单列索引。</span></p><p><span>单列索引情况：</span>
<code>explain select id, phone, name from tb_user where phone = &#39;17799990010&#39; and name = &#39;韩信&#39;;</code>
<span>这句只会用到phone索引字段</span></p><h5 id='注意事项-9'><span>注意事项</span></h5><ul><li><span>多条件联合查询时，MySQL优化器会评估哪个字段的索引效率更高，会选择该索引完成本次查询</span></li></ul><h3 id='设计原则'><span>设计原则</span></h3><ol start='' ><li><span>针对于数据量较大，且查询比较频繁的表建立索引</span></li><li><span>针对于常作为查询条件（where）、排序（order by）、分组（group by）操作的字段建立索引</span></li><li><span>尽量选择区分度高的列作为索引，尽量建立唯一索引，区分度越高，使用索引的效率越高</span></li><li><span>如果是字符串类型的字段，字段长度较长，可以针对于字段的特点，建立前缀索引</span></li><li><span>尽量使用联合索引，减少单列索引，查询时，联合索引很多时候可以覆盖索引，节省存储空间，避免回表，提高查询效率</span></li><li><span>要控制索引的数量，索引并不是多多益善，索引越多，维护索引结构的代价就越大，会影响增删改的效率</span></li><li><span>如果索引列不能存储NULL值，请在创建表时使用NOT NULL约束它。当优化器知道每列是否包含NULL值时，它可以更好地确定哪个索引最有效地用于查询</span></li></ol><h2 id='sql-优化'><span>SQL 优化</span></h2><h3 id='插入数据'><span>插入数据</span></h3><p><span>普通插入：</span></p><ol start='' ><li><span>采用批量插入（一次插入的数据不建议超过1000条）</span></li><li><span>手动提交事务</span></li><li><span>主键顺序插入</span></li></ol><p><span>大批量插入：</span>
<span>如果一次性需要插入大批量数据，使用insert语句插入性能较低，此时可以使用MySQL数据库提供的load指令插入。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 客户端连接服务端时，加上参数 --local-infile（这一行在bash/cmd界面输入）</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">mysql <span class="cm-operator">--</span><span class="cm-keyword">local</span><span class="cm-operator">-</span><span class="cm-keyword">infile</span> <span class="cm-operator">-</span>u root <span class="cm-operator">-</span>p</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 设置全局参数local_infile为1，开启从本地加载文件导入数据的开关</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">set</span> <span class="cm-keyword">global</span> local_infile <span class="cm-operator">=</span> <span class="cm-number">1</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-variable-2">@@local_infile</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 执行load指令将准备好的数据，加载到表结构中</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">load</span> <span class="cm-keyword">data</span> <span class="cm-keyword">local</span> <span class="cm-keyword">infile</span> <span class="cm-string">'/root/sql1.log'</span> <span class="cm-keyword">into</span> <span class="cm-keyword">table</span> <span class="cm-string">'tb_user'</span> <span class="cm-keyword">fields</span> <span class="cm-keyword">terminated</span> <span class="cm-keyword">by</span> <span class="cm-string">','</span> <span class="cm-keyword">lines</span> <span class="cm-keyword">terminated</span> <span class="cm-keyword">by</span> <span class="cm-string">'\n'</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 179px;"></div><div class="CodeMirror-gutters" style="display: none; height: 179px;"></div></div></div></pre><h3 id='主键优化'><span>主键优化</span></h3><p><span>数据组织方式：在InnoDB存储引擎中，表数据都是根据主键顺序组织存放的，这种存储方式的表称为索引组织表（Index organized table, IOT）</span></p><p><span>页分裂：页可以为空，也可以填充一般，也可以填充100%，每个页包含了2-N行数据（如果一行数据过大，会行溢出），根据主键排列。</span>
<span>页合并：当删除一行记录时，实际上记录并没有被物理删除，只是记录被标记（flaged）为删除并且它的空间变得允许被其他记录声明使用。当页中删除的记录到达 MERGE_THRESHOLD（默认为页的50%），InnoDB会开始寻找最靠近的页（前后）看看是否可以将这两个页合并以优化空间使用。</span></p><p><span>MERGE_THRESHOLD：合并页的阈值，可以自己设置，在创建表或创建索引时指定</span></p><blockquote><p><span>文字说明不够清晰明了，具体可以看视频里的PPT演示过程：</span><a href='https://www.bilibili.com/video/BV1Kr4y1i7ru?p=90' target='_blank' class='url'>https://www.bilibili.com/video/BV1Kr4y1i7ru?p=90</a></p></blockquote><p><span>主键设计原则：</span></p><ul><li><span>满足业务需求的情况下，尽量降低主键的长度</span></li><li><span>插入数据时，尽量选择顺序插入，选择使用 AUTO_INCREMENT 自增主键</span></li><li><span>尽量不要使用 UUID 做主键或者是其他的自然主键，如身份证号</span></li><li><span>业务操作时，避免对主键的修改</span></li></ul><h3 id='order-by优化'><span>order by优化</span></h3><ol start='' ><li><span>Using filesort：通过表的索引或全表扫描，读取满足条件的数据行，然后在排序缓冲区 sort buffer 中完成排序操作，所有不是通过索引直接返回排序结果的排序都叫 FileSort 排序</span></li><li><span>Using index：通过有序索引顺序扫描直接返回有序数据，这种情况即为 using index，不需要额外排序，操作效率高</span></li></ol><p><span>如果order by字段全部使用升序排序或者降序排序，则都会走索引，但是如果一个字段升序排序，另一个字段降序排序，则不会走索引，explain的extra信息显示的是</span><code>Using index, Using filesort</code><span>，如果要优化掉Using filesort，则需要另外再创建一个索引，如：</span><code>create index idx_user_age_phone_ad on tb_user(age asc, phone desc);</code><span>，此时使用</span><code>select id, age, phone from tb_user order by age asc, phone desc;</code><span>会全部走索引</span></p><p><span>总结：</span></p><ul><li><span>根据排序字段建立合适的索引，多字段排序时，也遵循最左前缀法则</span></li><li><span>尽量使用覆盖索引</span></li><li><span>多字段排序，一个升序一个降序，此时需要注意联合索引在创建时的规则（ASC/DESC）</span></li><li><span>如果不可避免出现filesort，大数据量排序时，可以适当增大排序缓冲区大小 sort_buffer_size（默认256k）</span></li></ul><h3 id='group-by优化'><span>group by优化</span></h3><ul><li><span>在分组操作时，可以通过索引来提高效率</span></li><li><span>分组操作时，索引的使用也是满足最左前缀法则的</span></li></ul><p><span>如索引为</span><code>idx_user_pro_age_stat</code><span>，则句式可以是</span><code>select ... where profession order by age</code><span>，这样也符合最左前缀法则</span></p><h3 id='limit优化'><span>limit优化</span></h3><p><span>常见的问题如</span><code>limit 2000000, 10</code><span>，此时需要 MySQL 排序前2000000条记录，但仅仅返回2000000 - 2000010的记录，其他记录丢弃，查询排序的代价非常大。</span>
<span>优化方案：一般分页查询时，通过创建覆盖索引能够比较好地提高性能，可以通过覆盖索引加子查询形式进行优化</span></p><p><span>例如：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 此语句耗时很长</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> tb_sku <span class="cm-keyword">limit</span> <span class="cm-number">9000000</span><span class="cm-punctuation">,</span> <span class="cm-number">10</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 通过覆盖索引加快速度，直接通过主键索引进行排序及查询</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> id <span class="cm-keyword">from</span> tb_sku <span class="cm-keyword">order</span> <span class="cm-keyword">by</span> id <span class="cm-keyword">limit</span> <span class="cm-number">9000000</span><span class="cm-punctuation">,</span> <span class="cm-number">10</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 下面的语句是错误的，因为 MySQL 不支持 in 里面使用 limit</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- select * from tb_sku where id in (select id from tb_sku order by id limit 9000000, 10);</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 通过连表查询即可实现第一句的效果，并且能达到第二句的速度</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> tb_sku <span class="cm-keyword">as</span> s<span class="cm-punctuation">,</span> <span class="cm-bracket">(</span><span class="cm-keyword">select</span> id <span class="cm-keyword">from</span> tb_sku <span class="cm-keyword">order</span> <span class="cm-keyword">by</span> id <span class="cm-keyword">limit</span> <span class="cm-number">9000000</span><span class="cm-punctuation">,</span> <span class="cm-number">10</span><span class="cm-bracket">)</span> <span class="cm-keyword">as</span> a <span class="cm-keyword">where</span> s<span class="cm-variable-2">.id</span> <span class="cm-operator">=</span> a<span class="cm-variable-2">.id</span><span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 224px;"></div><div class="CodeMirror-gutters" style="display: none; height: 224px;"></div></div></div></pre><h3 id='count优化'><span>count优化</span></h3><p><span>MyISAM 引擎把一个表的总行数存在了磁盘上，因此执行 count(</span><span>*</span><span>) 的时候会直接返回这个数，效率很高（前提是不适用where）；</span>
<span>InnoDB 在执行 count(</span><span>*</span><span>) 时，需要把数据一行一行地从引擎里面读出来，然后累计计数。</span>
<span>优化方案：自己计数，如创建key-value表存储在内存或硬盘，或者是用redis</span></p><p><span>count的几种用法：</span></p><ul><li><span>如果count函数的参数（count里面写的那个字段）不是NULL（字段值不为NULL），累计值就加一，最后返回累计值</span></li><li><span>用法：count(</span><span>*</span><span>)、count(主键)、count(字段)、count(1)</span></li><li><span>count(主键)跟count(</span><span>*</span><span>)一样，因为主键不能为空；count(字段)只计算字段值不为NULL的行；count(1)引擎会为每行添加一个1，然后就count这个1，返回结果也跟count(</span><span>*</span><span>)一样；count(null)返回0</span></li></ul><p><span>各种用法的性能：</span></p><ul><li><span>count(主键)：InnoDB引擎会遍历整张表，把每行的主键id值都取出来，返回给服务层，服务层拿到主键后，直接按行进行累加（主键不可能为空）</span></li><li><span>count(字段)：没有not null约束的话，InnoDB引擎会遍历整张表把每一行的字段值都取出来，返回给服务层，服务层判断是否为null，不为null，计数累加；有not null约束的话，InnoDB引擎会遍历整张表把每一行的字段值都取出来，返回给服务层，直接按行进行累加</span></li><li><span>count(1)：InnoDB 引擎遍历整张表，但不取值。服务层对于返回的每一层，放一个数字 1 进去，直接按行进行累加</span></li><li><span>count(</span><span>*</span><span>)：InnoDB 引擎并不会把全部字段取出来，而是专门做了优化，不取值，服务层直接按行进行累加</span></li></ul><p><span>按效率排序：count(字段) &lt; count(主键) &lt; count(1) &lt; count(</span><span>*</span><span>)，所以尽量使用 count(</span><span>*</span><span>)</span></p><h3 id='update优化避免行锁升级为表锁）'><span>update优化（避免行锁升级为表锁）</span></h3><p><span>InnoDB 的行锁是针对索引加的锁，不是针对记录加的锁，并且该索引不能失效，否则会从行锁升级为表锁。</span></p><p><span>如以下两条语句：</span>
<code>update student set no = &#39;123&#39; where id = 1;</code><span>，这句由于id有主键索引，所以只会锁这一行；</span>
<code>update student set no = &#39;123&#39; where name = &#39;test&#39;;</code><span>，这句由于name没有索引，所以会把整张表都锁住进行数据更新，解决方法是给name字段添加索引</span></p><h1 id='数据类型'><span>数据类型</span></h1><h2 id='整型'><span>整型</span></h2><figure><table><thead><tr><th><span>类型名称</span></th><th><span>取值范围</span></th><th><span>大小</span></th></tr></thead><tbody><tr><td><span>TINYINT</span></td><td><span>-128〜127</span></td><td><span>1个字节</span></td></tr><tr><td><span>SMALLINT</span></td><td><span>-32768〜32767</span></td><td><span>2个宇节</span></td></tr><tr><td><span>MEDIUMINT</span></td><td><span>-8388608〜8388607</span></td><td><span>3个字节</span></td></tr><tr><td><span>INT (INTEGHR)</span></td><td><span>-2147483648〜2147483647</span></td><td><span>4个字节</span></td></tr><tr><td><span>BIGINT</span></td><td><span>-9223372036854775808〜9223372036854775807</span></td><td><span>8个字节</span></td></tr></tbody></table></figure><p><span>无符号在数据类型后加 unsigned 关键字。</span></p><h2 id='浮点型'><span>浮点型</span></h2><figure><table><thead><tr><th><span>类型名称</span></th><th><span>说明</span></th><th><span>存储需求</span></th></tr></thead><tbody><tr><td><span>FLOAT</span></td><td><span>单精度浮点数</span></td><td><span>4 个字节</span></td></tr><tr><td><span>DOUBLE</span></td><td><span>双精度浮点数</span></td><td><span>8 个字节</span></td></tr><tr><td><span>DECIMAL (M, D)，DEC</span></td><td><span>压缩的“严格”定点数</span></td><td><span>M+2 个字节</span></td></tr></tbody></table></figure><h2 id='日期和时间'><span>日期和时间</span></h2><figure><table><thead><tr><th><span>类型名称</span></th><th><span>日期格式</span></th><th><span>日期范围</span></th><th><span>存储需求</span></th></tr></thead><tbody><tr><td><span>YEAR</span></td><td><span>YYYY</span></td><td><span>1901 ~ 2155</span></td><td><span>1 个字节</span></td></tr><tr><td><span>TIME</span></td><td><span>HH:MM:SS</span></td><td><span>-838:59:59 ~ 838:59:59</span></td><td><span>3 个字节</span></td></tr><tr><td><span>DATE</span></td><td><span>YYYY-MM-DD</span></td><td><span>1000-01-01 ~ 9999-12-3</span></td><td><span>3 个字节</span></td></tr><tr><td><span>DATETIME</span></td><td><span>YYYY-MM-DD HH:MM:SS</span></td><td><span>1000-01-01 00:00:00 ~ 9999-12-31 23:59:59</span></td><td><span>8 个字节</span></td></tr><tr><td><span>TIMESTAMP</span></td><td><span>YYYY-MM-DD HH:MM:SS</span></td><td><span>1980-01-01 00:00:01 UTC ~ 2040-01-19 03:14:07 UTC</span></td><td><span>4 个字节</span></td></tr></tbody></table></figure><h2 id='字符串'><span>字符串</span></h2><figure><table><thead><tr><th><span>类型名称</span></th><th><span>说明</span></th><th><span>存储需求</span></th></tr></thead><tbody><tr><td><span>CHAR(M)</span></td><td><span>固定长度非二进制字符串</span></td><td><span>M 字节，1&lt;=M&lt;=255</span></td></tr><tr><td><span>VARCHAR(M)</span></td><td><span>变长非二进制字符串</span></td><td><span>L+1字节，在此，L&lt; = M和 1&lt;=M&lt;=255</span></td></tr><tr><td><span>TINYTEXT</span></td><td><span>非常小的非二进制字符串</span></td><td><span>L+1字节，在此，L&lt;2^8</span></td></tr><tr><td><span>TEXT</span></td><td><span>小的非二进制字符串</span></td><td><span>L+2字节，在此，L&lt;2^16</span></td></tr><tr><td><span>MEDIUMTEXT</span></td><td><span>中等大小的非二进制字符串</span></td><td><span>L+3字节，在此，L&lt;2^24</span></td></tr><tr><td><span>LONGTEXT</span></td><td><span>大的非二进制字符串</span></td><td><span>L+4字节，在此，L&lt;2^32</span></td></tr><tr><td><span>ENUM</span></td><td><span>枚举类型，只能有一个枚举字符串值</span></td><td><span>1或2个字节，取决于枚举值的数目 (最大值为65535)</span></td></tr><tr><td><span>SET</span></td><td><span>一个设置，字符串对象可以有零个或 多个SET成员</span></td><td><span>1、2、3、4或8个字节，取决于集合 成员的数量（最多64个成员）</span></td></tr></tbody></table></figure><h2 id='二进制类型'><span>二进制类型</span></h2><figure><table><thead><tr><th><span>类型名称</span></th><th><span>说明</span></th><th><span>存储需求</span></th></tr></thead><tbody><tr><td><span>BIT(M)</span></td><td><span>位字段类型</span></td><td><span>大约 (M+7)/8 字节</span></td></tr><tr><td><span>BINARY(M)</span></td><td><span>固定长度二进制字符串</span></td><td><span>M 字节</span></td></tr><tr><td><span>VARBINARY (M)</span></td><td><span>可变长度二进制字符串</span></td><td><span>M+1 字节</span></td></tr><tr><td><span>TINYBLOB (M)</span></td><td><span>非常小的BLOB</span></td><td><span>L+1 字节，在此，L&lt;2^8</span></td></tr><tr><td><span>BLOB (M)</span></td><td><span>小 BLOB</span></td><td><span>L+2 字节，在此，L&lt;2^16</span></td></tr><tr><td><span>MEDIUMBLOB (M)</span></td><td><span>中等大小的BLOB</span></td><td><span>L+3 字节，在此，L&lt;2^24</span></td></tr><tr><td><span>LONGBLOB (M)</span></td><td><span>非常大的BLOB</span></td><td><span>L+4 字节，在此，L&lt;2^32</span></td></tr></tbody></table></figure><h1 id='权限一览表'><span>权限一览表</span></h1><blockquote><p><span>具体权限的作用详见</span><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html' title='官方文档'><span>官方文档</span></a></p></blockquote><p><span>GRANT 和 REVOKE 允许的静态权限</span></p><figure><table><thead><tr><th style='text-align:left;' ><span>Privilege</span></th><th style='text-align:left;' ><span>Grant Table Column</span></th><th style='text-align:left;' ><span>Context</span></th></tr></thead><tbody><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_all'><code>ALL [PRIVILEGES]</code></a></td><td style='text-align:left;' ><span>Synonym for “all privileges”</span></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_alter'><code>ALTER</code></a></td><td style='text-align:left;' ><code>Alter_priv</code></td><td style='text-align:left;' ><span>Tables</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_alter-routine'><code>ALTER ROUTINE</code></a></td><td style='text-align:left;' ><code>Alter_routine_priv</code></td><td style='text-align:left;' ><span>Stored routines</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create'><code>CREATE</code></a></td><td style='text-align:left;' ><code>Create_priv</code></td><td style='text-align:left;' ><span>Databases, tables, or indexes</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-role'><code>CREATE ROLE</code></a></td><td style='text-align:left;' ><code>Create_role_priv</code></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-routine'><code>CREATE ROUTINE</code></a></td><td style='text-align:left;' ><code>Create_routine_priv</code></td><td style='text-align:left;' ><span>Stored routines</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-tablespace'><code>CREATE TABLESPACE</code></a></td><td style='text-align:left;' ><code>Create_tablespace_priv</code></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-temporary-tables'><code>CREATE TEMPORARY TABLES</code></a></td><td style='text-align:left;' ><code>Create_tmp_table_priv</code></td><td style='text-align:left;' ><span>Tables</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-user'><code>CREATE USER</code></a></td><td style='text-align:left;' ><code>Create_user_priv</code></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-view'><code>CREATE VIEW</code></a></td><td style='text-align:left;' ><code>Create_view_priv</code></td><td style='text-align:left;' ><span>Views</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_delete'><code>DELETE</code></a></td><td style='text-align:left;' ><code>Delete_priv</code></td><td style='text-align:left;' ><span>Tables</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_drop'><code>DROP</code></a></td><td style='text-align:left;' ><code>Drop_priv</code></td><td style='text-align:left;' ><span>Databases, tables, or views</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_drop-role'><code>DROP ROLE</code></a></td><td style='text-align:left;' ><code>Drop_role_priv</code></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_event'><code>EVENT</code></a></td><td style='text-align:left;' ><code>Event_priv</code></td><td style='text-align:left;' ><span>Databases</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_execute'><code>EXECUTE</code></a></td><td style='text-align:left;' ><code>Execute_priv</code></td><td style='text-align:left;' ><span>Stored routines</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_file'><code>FILE</code></a></td><td style='text-align:left;' ><code>File_priv</code></td><td style='text-align:left;' ><span>File access on server host</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_grant-option'><code>GRANT OPTION</code></a></td><td style='text-align:left;' ><code>Grant_priv</code></td><td style='text-align:left;' ><span>Databases, tables, or stored routines</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_index'><code>INDEX</code></a></td><td style='text-align:left;' ><code>Index_priv</code></td><td style='text-align:left;' ><span>Tables</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_insert'><code>INSERT</code></a></td><td style='text-align:left;' ><code>Insert_priv</code></td><td style='text-align:left;' ><span>Tables or columns</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_lock-tables'><code>LOCK TABLES</code></a></td><td style='text-align:left;' ><code>Lock_tables_priv</code></td><td style='text-align:left;' ><span>Databases</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_process'><code>PROCESS</code></a></td><td style='text-align:left;' ><code>Process_priv</code></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_proxy'><code>PROXY</code></a></td><td style='text-align:left;' ><span>See </span><code>proxies_priv</code><span> table</span></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_references'><code>REFERENCES</code></a></td><td style='text-align:left;' ><code>References_priv</code></td><td style='text-align:left;' ><span>Databases or tables</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_reload'><code>RELOAD</code></a></td><td style='text-align:left;' ><code>Reload_priv</code></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-client'><code>REPLICATION CLIENT</code></a></td><td style='text-align:left;' ><code>Repl_client_priv</code></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-slave'><code>REPLICATION SLAVE</code></a></td><td style='text-align:left;' ><code>Repl_slave_priv</code></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_select'><code>SELECT</code></a></td><td style='text-align:left;' ><code>Select_priv</code></td><td style='text-align:left;' ><span>Tables or columns</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-databases'><code>SHOW DATABASES</code></a></td><td style='text-align:left;' ><code>Show_db_priv</code></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-view'><code>SHOW VIEW</code></a></td><td style='text-align:left;' ><code>Show_view_priv</code></td><td style='text-align:left;' ><span>Views</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_shutdown'><code>SHUTDOWN</code></a></td><td style='text-align:left;' ><code>Shutdown_priv</code></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_super'><code>SUPER</code></a></td><td style='text-align:left;' ><code>Super_priv</code></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_trigger'><code>TRIGGER</code></a></td><td style='text-align:left;' ><code>Trigger_priv</code></td><td style='text-align:left;' ><span>Tables</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_update'><code>UPDATE</code></a></td><td style='text-align:left;' ><code>Update_priv</code></td><td style='text-align:left;' ><span>Tables or columns</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_usage'><code>USAGE</code></a></td><td style='text-align:left;' ><span>Synonym for “no privileges”</span></td><td style='text-align:left;' ><span>Server administration</span></td></tr></tbody></table></figure><p><span>GRANT 和 REVOKE 允许的动态权限</span></p><figure><table><thead><tr><th style='text-align:left;' ><span>Privilege</span></th><th style='text-align:left;' ><span>Context</span></th></tr></thead><tbody><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_application-password-admin'><code>APPLICATION_PASSWORD_ADMIN</code></a></td><td style='text-align:left;' ><span>Dual password administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_audit-abort-exempt'><code>AUDIT_ABORT_EXEMPT</code></a></td><td style='text-align:left;' ><span>Allow queries blocked by audit log filter</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_audit-admin'><code>AUDIT_ADMIN</code></a></td><td style='text-align:left;' ><span>Audit log administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_authentication-policy-admin'><code>AUTHENTICATION_POLICY_ADMIN</code></a></td><td style='text-align:left;' ><span>Authentication administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_backup-admin'><code>BACKUP_ADMIN</code></a></td><td style='text-align:left;' ><span>Backup administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_binlog-admin'><code>BINLOG_ADMIN</code></a></td><td style='text-align:left;' ><span>Backup and Replication administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_binlog-encryption-admin'><code>BINLOG_ENCRYPTION_ADMIN</code></a></td><td style='text-align:left;' ><span>Backup and Replication administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_clone-admin'><code>CLONE_ADMIN</code></a></td><td style='text-align:left;' ><span>Clone administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin'><code>CONNECTION_ADMIN</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_encryption-key-admin'><code>ENCRYPTION_KEY_ADMIN</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-admin'><code>FIREWALL_ADMIN</code></a></td><td style='text-align:left;' ><span>Firewall administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-exempt'><code>FIREWALL_EXEMPT</code></a></td><td style='text-align:left;' ><span>Firewall administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-user'><code>FIREWALL_USER</code></a></td><td style='text-align:left;' ><span>Firewall administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-optimizer-costs'><code>FLUSH_OPTIMIZER_COSTS</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-status'><code>FLUSH_STATUS</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-tables'><code>FLUSH_TABLES</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-user-resources'><code>FLUSH_USER_RESOURCES</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-admin'><code>GROUP_REPLICATION_ADMIN</code></a></td><td style='text-align:left;' ><span>Replication administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-stream'><code>GROUP_REPLICATION_STREAM</code></a></td><td style='text-align:left;' ><span>Replication administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_innodb-redo-log-archive'><code>INNODB_REDO_LOG_ARCHIVE</code></a></td><td style='text-align:left;' ><span>Redo log archiving administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_ndb-stored-user'><code>NDB_STORED_USER</code></a></td><td style='text-align:left;' ><span>NDB Cluster</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_passwordless-user-admin'><code>PASSWORDLESS_USER_ADMIN</code></a></td><td style='text-align:left;' ><span>Authentication administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_persist-ro-variables-admin'><code>PERSIST_RO_VARIABLES_ADMIN</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-applier'><code>REPLICATION_APPLIER</code></a></td><td style='text-align:left;' ><code>PRIVILEGE_CHECKS_USER</code><span> for a replication channel</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-slave-admin'><code>REPLICATION_SLAVE_ADMIN</code></a></td><td style='text-align:left;' ><span>Replication administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_resource-group-admin'><code>RESOURCE_GROUP_ADMIN</code></a></td><td style='text-align:left;' ><span>Resource group administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_resource-group-user'><code>RESOURCE_GROUP_USER</code></a></td><td style='text-align:left;' ><span>Resource group administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_role-admin'><code>ROLE_ADMIN</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_session-variables-admin'><code>SESSION_VARIABLES_ADMIN</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_set-user-id'><code>SET_USER_ID</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-routine'><code>SHOW_ROUTINE</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-user'><code>SYSTEM_USER</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-variables-admin'><code>SYSTEM_VARIABLES_ADMIN</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_table-encryption-admin'><code>TABLE_ENCRYPTION_ADMIN</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_version-token-admin'><code>VERSION_TOKEN_ADMIN</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr><tr><td style='text-align:left;' ><a href='https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_xa-recover-admin'><code>XA_RECOVER_ADMIN</code></a></td><td style='text-align:left;' ><span>Server administration</span></td></tr></tbody></table></figure><h1 id='图形化界面工具'><span>图形化界面工具</span></h1><ul><li><span>Workbench(免费): </span><a href='http://dev.mysql.com/downloads/workbench/' target='_blank' class='url'>http://dev.mysql.com/downloads/workbench/</a></li><li><span>navicat(收费，试用版30天): </span><a href='https://www.navicat.com/en/download/navicat-for-mysql' target='_blank' class='url'>https://www.navicat.com/en/download/navicat-for-mysql</a></li><li><span>Sequel Pro(开源免费，仅支持Mac OS): </span><a href='http://www.sequelpro.com/' target='_blank' class='url'>http://www.sequelpro.com/</a></li><li><span>HeidiSQL(免费): </span><a href='http://www.heidisql.com/' target='_blank' class='url'>http://www.heidisql.com/</a></li><li><span>phpMyAdmin(免费): </span><a href='https://www.phpmyadmin.net/' target='_blank' class='url'>https://www.phpmyadmin.net/</a></li><li><span>SQLyog: </span><a href='https://sqlyog.en.softonic.com/' target='_blank' class='url'>https://sqlyog.en.softonic.com/</a></li></ul><h1 id='安装'><span>安装</span></h1><h1 id='小技巧'><span>小技巧</span></h1><ol start='' ><li><span>在SQL语句之后加上</span><code>\G</code><span>会将结果的表格形式转换成行文本形式</span></li><li><span>查看Mysql数据库占用空间：</span></li></ol><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.19px; left: 3.99002px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style="text-rendering: auto;"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> table_schema <span class="cm-string">"Database Name"</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-punctuation">,</span> <span class="cm-keyword">SUM</span><span class="cm-bracket">(</span>data_length <span class="cm-operator">+</span> index_length<span class="cm-bracket">)</span> / <span class="cm-bracket">(</span><span class="cm-number">1024</span> <span class="cm-operator">*</span> <span class="cm-number">1024</span><span class="cm-bracket">)</span> <span class="cm-string">"Database Size in MB"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">FROM</span> information_schema<span class="cm-variable-2">.TABLES</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">GROUP</span> <span class="cm-keyword">BY</span> table_schema<span class="cm-punctuation">;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 90px;"></div><div class="CodeMirror-gutters" style="display: none; height: 90px;"></div></div></div></pre><h1 id='后续内容'><span>后续内容</span></h1><p><span>后续内容因为跟当前学习、工作计划有冲突，所以后续课程的学习计划会无限期推后。</span>
<span>目前的工作重点放在重做一个学习笔记网站，当然这是边做边学的，开发过程中遇到的难点和知识点我也会记录下来供大家学习。</span>
<strong><span>在此感谢B站同样爱学习的同学 @守心-人 提供的后续课程笔记，大家有条件一定要去给个star，你的每一个star和点赞都是我们前进的动力</span></strong>
<strong><a href='https://github.com/Buildings-Lei/mysql_note/blob/main/README.md'><span>https://github.com/Buildings-Lei/mysql_note/blob/main/README.md</span></a></strong></p></div></div>
</body>
</html>